try{!function(){var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="a8d1268f-0d2c-4a49-a2ef-a96d875b5805",e._sentryDebugIdIdentifier="sentry-dbid-a8d1268f-0d2c-4a49-a2ef-a96d875b5805")}()}catch(e){}try{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{})["__faroBundleId_gptengineer-app"]="1766251861234d6ffef4e14"}catch(e){}"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9996],{67615:(e,t,n)=>{let a,l;n.d(t,{OY:()=>tP,cj:()=>tu,eI:()=>tp,s6:()=>e1});var s,r=n(46109),i=n(94332),o=n(85001);let c="undefined"!=typeof window&&window.document&&window.document.createElement?o.useLayoutEffect:o.useEffect,u=e=>(t,n)=>"calc("+t+" + ("+n+" - "+t+") * "+e+")",d="undefined"!=typeof window?window.navigator.userAgent:null,m="unknown",p="unknown";if("undefined"!=typeof window&&navigator.userAgentData&&((null==(s=navigator.userAgentData.brands)?void 0:s.some(e=>"Chromium"===e.brand))&&(m="chromium"),"Android"===navigator.userAgentData.platform&&(p="android")),"unknown"===p&&(null==d?void 0:d.match(/android/i))&&(p="android"),"unknown"===m&&((null==d?void 0:d.match(/Chrome/i))?m="chromium":(null==d?void 0:d.match(/Firefox/i))?m="gecko":(null==d?void 0:d.match(/Safari|iPhone/i))&&(m="webkit")),"webkit"===m){if(null==d?void 0:d.match(/iPhone/i))p="ios";else if(null==d?void 0:d.match(/iPad/i))p="ipados";else if(null==d?void 0:d.match(/Macintosh/i))try{null==document||document.createEvent("TouchEvent"),p="ipados"}catch(e){p="macos"}}let f={Sheet:{componentName:"a",elementNames:{root:0,view:1,backdrop:2,backdropTrap:3,primaryScrollTrapRoot:4,secondaryScrollTrapRoot:5,scrollContainer:6,frontSpacer:7,backSpacer:8,detentMarker:9,contentWrapper:10,content:11,bleedingBackground:12,stickyContainer:13,sticky:14,leftEdge:15,trigger:16,handle:17,outlet:18},variationSetsNames:{openness:"A",staging:"B",opennessClosedStatus:"C",position:"D",positionCoveredStatus:"E",placement:"F",track:"G",swipeDisabled:"H",swipeOutDisabledWithDetent:"I",swipeOvershootDisabled:"J",bleedDisabled:"K",inertOutside:"L",backdropSwipeable:"M",scrollContainerShouldBePassThrough:"N",swipeTrap:"M"},variationValuesNames:{open:"a",opening:"b",closed:"c",closing:"d",none:"e",top:"f",bottom:"g",left:"h",right:"i",horizontal:"j",vertical:"k",front:"l",covered:"m",true:"o",false:"p",auto:"q",center:"r",pending:"s","flushing-to-preparing-open":"t","flushing-to-preparing-opening":"u","preparing-open":"v","preparing-opening":"x","safe-to-unmount":"y",content:"z",root:"aa","going-down":"ab","going-up":"ac",indeterminate:"ad",idle:"ae","come-back":"af",out:"ag",stepping:"ah",both:"ai",none:"aj"}},ScrollTrap:{componentName:"b",elementNames:{root:0,stabiliser:1},variationSetsNames:{active:"A",axis:"B",automaticallyDisabledForOptimisation:"C"},variationValuesNames:{true:"a",false:"b",horizontal:"e",vertical:"f",both:"g",none:"h"}},Scroll:{componentName:"c",elementNames:{root:0,view:1,scrollContainer:2,content:3,UAScrollbarMeasurer:4,spy:5,startSpacer:6,endSpacer:7},variationSetsNames:{axis:"A",contentPlacement:"B",scrollTrapX:"C",scrollTrapY:"D",scrollGestureOvershoot:"E",scrollDisabled:"F",side:"G",pageScroll:"H",overflowX:"I",overflowY:"J",skipScrollAnimation:"K",scrollAnchoring:"L",scrollSnapType:"M",scrollPadding:"N",scrollTimelineName:"O",nativeScrollbar:"P",scrollOngoing:"Q"},variationValuesNames:{true:"a",false:"b",x:"c",y:"d",both:"e",unset:"f",contain:"g",start:"h",end:"i",center:"j",auto:"k",default:"l",none:"m",mandatoryX:"n",mandatoryY:"o",proximityX:"p",proximityY:"q"}},SlideShow:{componentName:"d",elementNames:{},variationSetsNames:{},variationValuesNames:{}},VisuallyHidden:{componentName:"e",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SpecialWrapper:{componentName:"f",elementNames:{root:0,content:1},variationSetsNames:{},variationValuesNames:{}},Fixed:{componentName:"g",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}},SheetStack:{componentName:"h",elementNames:{root:0,outlet:1},variationSetsNames:{},variationValuesNames:{}},AutoFocusTarget:{componentName:"i",elementNames:{root:0},variationSetsNames:{},variationValuesNames:{}}},g=(e,t)=>{var n;return null!=(n=f[e].variationSetsNames[t])?n:null},h=(e,t)=>{var n;return null!=(n=f[e].variationValuesNames[t])?n:null},v=(e,t)=>(0,o.useCallback)((n,a=[],l)=>{var s,r;let i,o,c=null!=(r=null==l||null==(s=l.dataSilk)?void 0:s.filter(Boolean).join(" "))?r:"";{let s=(e=>{var t;return null!=(t=f[e].componentName)?t:null})(e);if(i=s+((e,t)=>{var n;return null!=(n=f[e].elementNames[t])?n:null})(e,n),t)for(let n=0;n<a.length;n++){let l=a[n],r=t[l],o=g(e,l),c=h(e,r);i+=null!=r?" "+s+o+c:""}o={className:null==l?void 0:l.className,"data-silk":i+" "+c}}return o},[e,...t?Object.values(t):[]]),b=new WeakMap;var k="function"==typeof Float32Array;function S(e,t,n){return(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e}function y(e,t,n){return 3*(1-3*n+3*t)*e*e+2*(3*n-6*t)*e+3*t}function T(e){return e}var C=function(e,t,n,a){if(!(0<=e&&e<=1&&0<=n&&n<=1))throw Error("bezier x values must be in [0, 1] range");if(e===t&&n===a)return T;for(var l=k?new Float32Array(11):Array(11),s=0;s<11;++s)l[s]=S(.1*s,e,n);return function(s){return 0===s||1===s?s:S(function(t){for(var a=0,s=1;10!==s&&l[s]<=t;++s)a+=.1;var r=a+(t-l[--s])/(l[s+1]-l[s])*.1,i=y(r,e,n);return i>=.001?function(e,t,n,a){for(var l=0;l<4;++l){var s=y(t,n,a);if(0===s)break;var r=S(t,n,a)-e;t-=r/s}return t}(t,r,e,n):0===i?r:function(e,t,n,a,l){var s,r,i=0;do(s=S(r=t+(n-t)/2,a,l)-e)>0?n=r:t=r;while(Math.abs(s)>1e-7&&++i<10);return r}(t,a,a+.1,e,n)}(s),t,a)}};let E=e=>"string"==typeof e?document.querySelector(e):null==e?void 0:e(),w=(e,t)=>Array.isArray(e)?e.includes(t):e===t,A=e=>(null==e?void 0:e.getAttribute("data-silk-clone"))==="true",x=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]),O=e=>e instanceof HTMLInputElement&&!x.has(e.type)||e instanceof HTMLTextAreaElement||e instanceof HTMLElement&&e.isContentEditable,R=e=>e instanceof HTMLInputElement&&"color"===e.type||e instanceof HTMLSelectElement,P="undefined"!=typeof window&&window.matchMedia("(prefers-reduced-motion: reduce)").matches,I=()=>{var e;return window.innerHeight-200>(null==(e=window.visualViewport)?void 0:e.height)};function D({nativeEvent:e,defaultBehavior:t,handler:n}){let a=t;if(n)if("function"==typeof n){let l={...t,nativeEvent:e,changeDefault:function(e){a={...t,...e},Object.assign(this,e)}};l.changeDefault=l.changeDefault.bind(l),n(l)}else a={...t,...n};return a}function N(e){return(e.startsWith("rgb(")||e.startsWith("rgba("))&&e.endsWith(")")?e.substring(e.indexOf("(")+1,e.indexOf(")")).split(",").map(e=>e.trim()).slice(0,3).map(e=>parseFloat(e)):null}let L=e=>{let t=null;return e.startsWith("rgb(")||e.startsWith("rgba(")?t=N(e):e.startsWith("#")&&(t=function(e){let t=e.replace(/^#/,""),n=3===t.length?t.split("").map(e=>e+e).join(""):t;return/^[0-9A-Fa-f]{6}$/.test(n)?[parseInt(n.slice(0,2),16),parseInt(n.slice(2,4),16),parseInt(n.slice(4,6),16)]:null}(e)),t},M=e=>{let[t,n]=(0,o.useState)(!1);return(e=>{(0,o.useEffect)(()=>{let t=()=>{I()?e(!0):e(!1)};return t(),visualViewport.addEventListener("resize",t),()=>{visualViewport.removeEventListener("resize",t)}},[e])})((0,o.useCallback)(t=>{e.current&&n(!!t&&!e.current.matches('[data-silk~="0ad"]:not([data-silk~="0ai"]) *, [data-silk~="0ab"] *'))},[e])),t},_=()=>"android"===p&&"chromium"===m&&"undefined"!=typeof window&&!window.matchMedia("(display-mode: standalone), (display-mode: minimal-ui), (display-mode: fullscreen)").matches,F=({genericContext:e,customContext:t,value:n,children:a})=>t?(0,r.jsx)(t.Provider,{value:n,children:(0,r.jsx)(e.Provider,{value:n,children:a})}):(0,r.jsx)(e.Provider,{value:n,children:a});function B(e){for(let t=0;t<e.length;t++)if(!e[t].matches('[data-silk~="0ad"]'))return e[t];return e[0]}F.displayName="CustomisableContext";let W=(e,t)=>{var n;let{safelyFocusableElements:a,safelyTabbableElements:l}=Y(t,["[data-silk~='0ac']"]),s=es.autoFocusTargets.filter(t=>"any"===t.layerId||t.layerId===e).filter(e=>w(e.timing,"present")),r=B(a.filter(e=>s.map(e=>e.element).includes(e))),i=B(l);(null!=(n=null!=r?r:i)?n:t).focus({preventScroll:!0})},j=(e,t,n)=>{let{focus:a}=D({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});a&&W(e,t)},V=e=>{null!=e.parentNode&&e.parentNode.removeChild(e)},U=()=>{let e=document.createElement("div");return e.tabIndex=0,e.style.position="fixed",e.setAttribute("aria-hidden","true"),e.setAttribute("data-silk","0aa"),e},Y=(e,t=[])=>{let n=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]","[tabindex]:not([disabled])",...t].join(","),a=e?[...e.matches(n)?[e]:[],...e.querySelectorAll(n)]:[],l=[...t,"[aria-hidden='true']","[aria-hidden='true'] *","[inert]","[inert] *"],s=a.map(e=>({element:e,tabbable:e.matches(':not([hidden]):not([tabindex^="-"])'),skippable:e.matches(l.join(","))||!(e=>!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))(e)})),r=s.filter(e=>!e.skippable).map(e=>e.element),i=s.filter(e=>e.tabbable),o=i.filter(e=>!e.skippable).map(e=>e.element);return{allFocusableElementsWithData:s,safelyFocusableElements:r,allTabbableElementsWithData:i,safelyTabbableElements:o}},X=(e,t)=>{let{safelyTabbableElements:n,allTabbableElementsWithData:a,allFocusableElementsWithData:l}=Y(e,["[data-silk~='0ac']"]),s=[...a],r=[...l];return t&&[s,r].forEach(t=>{t.unshift({element:e.previousElementSibling,tabbable:!0,skippable:!0}),t.push({element:e.nextElementSibling,tabbable:!0,skippable:!0})}),{safelyTabbableElements:n,allTabbableElementsWithGuardsWithData:s,allFocusableElementsWithGuardsWithData:r}},H=(e,t)=>{let n;return(n=t.slice(e+1).find(e=>!1===e.skippable))||(n=t.slice(0,e).find(e=>!1===e.skippable)),n},G=(e,t,n,a,l)=>{var s;if(null==(s=e.target)?void 0:s.matches("[data-silk-clone]"))return;let r=[],i=[];n.forEach(e=>{let{safelyFocusableElements:t,safelyTabbableElements:n}=Y(e);r=[...r,...t],i=[...i,...n]}),n.includes(e.target)||r.includes(e.target)?e.target&&l(e.target):a?a.focus():i.length?i[0].focus():t.focus()},z=null,$=null,K=new Set,q=(e,t,n,a)=>{let l=e[t],s=l.onClickOutside,r=l.dismissOverlayIfNotAlertDialog,i=l.viewElement,o=l.scrollContainerElement,c=l.backdropElement;if(o===a.target||c===a.target||!(null==i?void 0:i.contains(a.target))&&!n.find(e=>e.element.contains(a.target))&&function(e){for(let t of es.automaticLayerElements)if(t.contains(e))return!1;return!0}(a.target)){let l=!0,i=!0;if(s){let{dismiss:e,stopOverlayPropagation:t}=D({nativeEvent:a,defaultBehavior:{dismiss:!0,stopOverlayPropagation:!0},handler:s});l=e,i=t}l&&r&&r(),t>0&&!i&&q(e,t-1,n,a)}},J=null,Z=(e,t,n)=>{let a=e[t],l=a.onEscapeKeyDown,s=a.dismissOverlayIfNotAlertDialog,r=!0,i=!0,o=!0;if(l){let{dismiss:e,nativePreventDefault:t,stopOverlayPropagation:a}=D({nativeEvent:n,defaultBehavior:{nativePreventDefault:!0,dismiss:!0,stopOverlayPropagation:!0},handler:l});r=t,i=e,o=a}r&&n.preventDefault(),i&&s&&s(),t>0&&!o&&Z(e,t-1,n)},Q=e=>(e.setAttribute("aria-hidden","true"),()=>e.removeAttribute("aria-hidden")),ee=e=>{let{allTabbableElementsWithGuardsWithData:t}=X(e);t.forEach(e=>{e.element.tabIndex=-1})},et=e=>{var t;return null==(t=null==e?void 0:e.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))?void 0:t.matches('[data-silk~="0ah"]')},en=["translate","translateX","translateY","translateZ","scale","scaleX","scaleY","scaleZ","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ea=null,el=e=>{ea=e};var es={sheets:[],addSheet:function(e){let t;if(!e.id)return;let n=this.findSheet(e.id);return n?(e.stackId&&(n.stackId=e.stackId),e.sendToOpennessMachine&&(n.sendToOpennessMachine=e.sendToOpennessMachine),t=n):(t={stackingIndex:-1,travelAnimations:[],aggregatedTravelCallback:function(e,t){let n=this.travelAnimations;for(let a=0,l=n.length;a<l;a++)n[a].callback(e,t)},stackingAnimations:[],aggregatedStackingCallback:function(e,t){let n=this.stackingAnimations;for(let a=0,l=n.length;a<l;a++)n[a].callback(e,t)},belowSheetsInStack:[],outlets:new Set,...e},this.sheets.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},attemptToRemoveSheet:function(e,t){let n=this.findSheet(e);if(n)if(0===n.outlets.size){var a;let t=null==(a=this.findSheet(e))?void 0:a.stackId;this.sheets=this.sheets.filter(t=>t.id!==e),t&&this.updateSelfAndAboveTravelProgressSumInStack(t)}else t&&t(n)},attemptToRemoveSheetOrCleanup:function(e){this.attemptToRemoveSheet(e,e=>{e.sendToOpennessMachine=null})},findSheet:function(e){return this.sheets.find(t=>t.id===e)},addOutletToSheet:function(e,t){let n=this.findSheet(e);n?n.outlets.add(t):this.addSheet({id:e,outlets:new Set([t])})},removeOutletFromSheet:function(e,t){let n=this.findSheet(e);null==n||n.outlets.delete(t),this.attemptToRemoveSheet(e)},sheetStacks:[],addSheetStack:function(e){let t;return this.findSheetStack(e.id)||(t={stackingAnimations:[],aggregatedStackingCallback:function(e,t){let n=this.stackingAnimations;for(let a=0,l=n.length;a<l;a++)n[a].callback(e,t)},...e},this.sheetStacks.push(t)),this.updateBelowSheetsInStackOfAllSheets(),t},removeSheetStack:function(e){e&&(this.sheetStacks=this.sheetStacks.filter(t=>t.id!==e),this.removeAllOutletPersistedStylesFromStack(e))},findSheetStack:function(e){return this.sheetStacks.find(t=>t.id===e)},updateBelowSheetsInStackOfAllSheets:function(){this.sheets.forEach(e=>{let t,n=e.stackId;if(n){t=this.findSheetStack(n);let a=this.sheets.filter(t=>t.stackId===e.stackId),l=a.filter(t=>t.stackId===e.stackId&&t.stackingIndex>e.stackingIndex);t&&(l.unshift(t),t.stackingIndex=a.length-1),e.belowSheetsInStack=l,this.updateSelfAndAboveTravelProgressSumInStack(n)}})},updateSheetStackingIndex:function(e,t){let n=this.findSheet(e);n&&(n.stackingIndex=t),this.updateBelowSheetsInStackOfAllSheets()},updateSheetTravelProgress:function(e,t){let n=this.findSheet(e);n&&n.stackId&&(n.travelProgress=t,this.updateSelfAndAboveTravelProgressSumInStack(n.stackId))},updateSelfAndAboveTravelProgressSumInStack:function(e){let t=this.sheets.filter(t=>t.stackId===e).sort((e,t)=>t.stackingIndex-e.stackingIndex),n=this.findSheetStack(e);n&&t.unshift(n);let a=t.length;for(let e=0;e<a;e++){let n=t[e];n.selfAndAboveTravelProgressSum=[];for(let l=0;l<a;l++)l<=e?n.selfAndAboveTravelProgressSum[l]=0:n.selfAndAboveTravelProgressSum[l]=t.slice(e+1,l+1).reduce((e,t)=>e+t.travelProgress,0)}},addAnimationToSheetOrStack:function({type:e,sheetId:t,stackId:n,element:a,config:l}){let s=l.hasOwnProperty("properties")?l.properties:l,r=[];Object.entries(s).forEach(([e,t])=>{if("ignore"!==t&&t&&"string"!=typeof t)if("function"==typeof t)if(en.includes(e)){let n=r.findIndex(e=>"transform"===e[0]),a=n=>e+"("+t(n)+")";if(-1!==n){let e=r[n][1];r[n][1]=t=>e(t)+" "+a(t)}else r.push(["transform",a])}else if("transform"===e){let e=r.findIndex(e=>"transform"===e[0]);if(-1!==e){let n=r[e][1];r[e][1]=e=>n(e)+" "+t(e)}else r.push(["transform",t])}else r.push([e,t]);else if("opacity"===e){let e=["opacity",({tween:e})=>e(t[0],t[1])];r.push(e)}else{if(!e.startsWith("scale")&&(!isNaN(t[0])||!isNaN(t[1])))throw Error("Keyframe values used with a 'transform' property require a unit (e.g. 'px', 'em' or '%').");let n=r.findIndex(e=>"transform"===e[0]),a=({tween:n})=>e+"("+n(t[0],t[1])+")";if(-1!==n){let e=r[n][1];r[n][1]=t=>e(t)+" "+a(t)}else r.push(["transform",a])}});let i=r.map(e=>[(e[0].startsWith("webkit")||e[0].startsWith("moz")?"-":"")+e[0].replace(/[A-Z]/g,"-$&").toLowerCase(),e[1]]),o=i.length,c={target:a,config:r,dashedPropertiesAsArray:i,callback:(e,t)=>{for(let n=0;n<o;n++){let[l,s]=i[n];a.style.setProperty(l,s({progress:e,tween:t}))}}},u=n?this.findSheetStack(n):this.findSheet(t);u&&("travel"===e?u.travelAnimations.push(c):u.stackingAnimations.push(c))},removeAnimationFromSheetOrStack:function({sheetId:e,stackId:t,type:n,element:a}){let l=t?this.findSheetStack(t):this.findSheet(e);if(l)if("travel"===n){let e=l.travelAnimations.filter(e=>e.target!==a);l.travelAnimations=e}else{let e=l.stackingAnimations.filter(e=>e.target!==a);l.stackingAnimations=e}},removeAllOutletPersistedStylesFromSheet:function(e){let t=this.findSheet(e);t&&[...t.travelAnimations,...t.stackingAnimations].forEach(e=>{e.dashedPropertiesAsArray.forEach(([t])=>{e.target.style.removeProperty(t)})})},removeAllOutletPersistedStylesFromStack:function(e){let t=this.findSheetStack(e);t&&t.stackingAnimations.forEach(e=>{e.dashedPropertiesAsArray.forEach(([t])=>{e.target.style.removeProperty(t)})})},getAggregatedStackingCallbackForSheetsBelow:function(e){let t,n=this.findSheet(e);return n&&(t=e=>{let t=n.belowSheetsInStack,a=t.length;for(let n=0;n<a;n++){let l=t[n],s=l.selfAndAboveTravelProgressSum[a-1]+e,r=u(s);l.aggregatedStackingCallback(s,r)}}),t},automaticIslandElements:new Set([]),automaticLayerElements:new Set([]),automaticLayerAndIslandDetectionCleanup:null,focusContainmentRootElements:[],focusContainmentCleanup:()=>{},escapeKeyDownListenerCleanup:null,clickOutsideListenerCleanup:null,processLayersAndIslandsChangesTimeout:null,setupAutomaticLayerAndIslandDetection:function(e){let t=document.documentElement,n=document.body,a=()=>{let a,l=new Set([]),s=new Set([]),r=function(e){let t=e.parentElement;for(;t&&t!==document.body;){if(t.parentElement===document.body)return t;t=t.parentElement}return e.parentElement===document.body?e:null}(e);a=r?r.nextElementSibling:n.firstElementChild;let i=e=>e.matches('[data-silk~="0ag"], [data-silk~="0ab"], [data-silk~="0aa"], [data-silk-clone]'),o=e=>"SCRIPT"!==e.tagName;for(;a;)!i(a)&&o(a)&&l.add(a),a=a.nextElementSibling;let c=t.children;for(let e=0;e<c.length;e++){let t=c[e];"HEAD"===t.tagName||"BODY"===t.tagName||i(t)||s.add(t)}let u=new Set([...l].filter(e=>!this.automaticLayerElements.has(e))),d=new Set([...this.automaticLayerElements].filter(e=>!l.has(e)));this.automaticLayerElements=l;let m=new Set([...s].filter(e=>!this.automaticIslandElements.has(e))),p=new Set([...this.automaticIslandElements].filter(e=>!s.has(e)));this.automaticIslandElements=s,u.forEach(e=>{this.updateLayer({automatic:!0,layerId:null,viewElement:e,inertOutside:!1,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},dismissOverlayIfNotAlertDialog:()=>{},onClickOutside:{stopOverlayPropagation:!1},onEscapeKeyDown:{stopOverlayPropagation:!1}})}),d.forEach(e=>this.removeLayer(null,e)),m.forEach(e=>this.addIsland({element:e,automatic:!0})),p.forEach(e=>this.removeIsland(null,e))};a();let l=new MutationObserver(()=>{a()});l.observe(t,{childList:!0}),l.observe(n,{childList:!0}),this.automaticLayerAndIslandDetectionCleanup=function(){l.disconnect(),this.layers.forEach(e=>{e.automatic&&this.removeLayer(null,e.viewElement)}),this.automaticLayerElements=new Set([]),this.islands.forEach(e=>{e.automatic&&this.removeIsland(null,e.element)}),this.automaticIslandElements=new Set([]),this.automaticLayerAndIslandDetectionCleanup=null}},moveFocusIfNecessary:function(e,t,n,a,l,s){let r=!1;for(let e=0;e<t.length;e++)if(t[e].contains(document.activeElement)){r=!0;break}if(n.length){let e=n.filter(e=>!e.automatic&&!e.external);if(e.length){let t=e[e.length-1];return j(t.layerId,t.viewElement,t.onPresentAutoFocus)}}if(l.length&&!r){let t=e[e.length-1];if(!t.external)return j(t.layerId,t.viewElement,t.onPresentAutoFocus)}if(a.length&&a.find(e=>e.focusWasInside)){let e=a[0];if(!e.external)return((e,t,n,a)=>{if(!t.contains(document.activeElement)&&document.contains(document.activeElement))return;let{focus:l}=D({nativeEvent:null,defaultBehavior:{focus:!0},handler:n});if(l){var s;let n=es.autoFocusTargets.filter(t=>"any"===t.layerId||t.layerId===e).filter(e=>w(e.timing,"dismiss")&&!t.contains(e.element)),{safelyFocusableElements:l}=Y(document.body),r=B(l.filter(e=>n.map(e=>e.element).includes(e)));(null!=(s=null!=r?r:a)?s:document.body).focus({preventScroll:!0})}})(e.layerId,e.viewElement,e.onDismissAutoFocus,e.elementFocusedLastBeforeShowing)}if(s.length&&s.find(e=>e.focusWasInside)){let t=e[e.length-1];if(t)return W(t.layerId,t.viewElement)}},processLayersAndIslandsChanges:function(){var e;clearTimeout(this.processLayersAndIslandsChangesTimeout);let t=()=>{var e,t,n,a;let l,s,r,i=this.layers.length,o=new Set([]),c;if(this.layers.some(e=>e.inertOutside)){this.islands.filter(e=>!e.componentId||0===e.componentId.length).forEach(e=>o.add(e.element));for(let e=i-1;e>=0;e--){let t=this.layers[e];if(t.external&&t.inertOutside){o=new Set([]);break}if(o.add(t.viewElement),[...this.islands.filter(e=>e.componentId&&t.layerContextId&&e.componentId.includes(t.layerContextId)),...this.islands.filter(e=>e.componentId&&t.layerStackContextId&&e.componentId.includes(t.layerStackContextId))].forEach(e=>{o.add(e.element)}),t.inertOutside){c=t;break}c=t}}let u=[...o],d=!function(e,t){if(e.length!==t.length)return!1;let n=new Set;for(let t of e)n.add(t);for(let e of t)if(!n.has(e))return!1;return!0}(this.focusContainmentRootElements,u);this.focusContainmentRootElements=u,d&&(this.focusContainmentCleanup(),this.focusContainmentCleanup=()=>{},null==(e=this.automaticLayerAndIslandDetectionCleanup)||e.call(this),c&&(this.setupAutomaticLayerAndIslandDetection(null==c?void 0:c.viewElement),this.focusContainmentCleanup=(({rootElements:e,viewElement:t,elementFocusedLast:n,setElementFocusedLast:a})=>{let l=[];e.forEach(e=>{var t;let n,a;l.push((t=e,n=U(),a=U(),t.insertAdjacentElement("beforebegin",n),t.insertAdjacentElement("afterend",a),()=>{V(n),V(a)}))});let s=function(e,t=document){let n=new Set(e),a=new Set,l=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:t=>(t instanceof HTMLElement&&"true"===t.dataset.liveAnnouncer&&n.add(t),"HEAD"===t.tagName||"SCRIPT"===t.tagName||n.has(t)||t.parentElement&&a.has(t.parentElement))?NodeFilter.FILTER_REJECT:t instanceof HTMLElement&&"row"===t.getAttribute("role")||e.some(e=>t.contains(e))?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT}),s=e=>{var t;let n=null!=(t=b.get(e))?t:0;("true"!==e.getAttribute("aria-hidden")||0!==n)&&(0===n&&e.setAttribute("aria-hidden","true"),a.add(e),b.set(e,n+1))},r=l.nextNode();for(;null!=r;)s(r),r=l.nextNode();let i=new MutationObserver(e=>{for(let t of e)if("childList"===t.type&&0!==t.addedNodes.length&&![...n,...a].some(e=>e.contains(t.target)))for(let e of t.addedNodes)e instanceof HTMLElement&&"true"===e.dataset.liveAnnouncer?n.add(e):e instanceof Element&&s(e)});return i.observe(t,{childList:!0,subtree:!0}),()=>{for(let e of(i.disconnect(),a)){let t=b.get(e);1===t?(e.removeAttribute("aria-hidden"),b.delete(e)):void 0!==t&&b.set(e,t-1)}}}(e,document),r=t=>((e,t)=>{var n;if(null==(n=e.relatedTarget)?void 0:n.matches("[data-silk-clone]"))return;let a=null!=z?z:e.target,l=null!=$?$:e.relatedTarget;(({rootElements:e,e:t,fromElement:n,toElement:a,fallbackElement:l})=>{if(!a)return;let s=[],r=[],i=[];e.forEach(e=>{let{safelyTabbableElements:t,allTabbableElementsWithGuardsWithData:n,allFocusableElementsWithGuardsWithData:a}=X(e,!0);s=[...s,...t],r=[...r,...n],i=[...i,...a]});let o=r.findIndex(e=>e.element===n),c=r.findIndex(e=>e.element===a),u=r[c],d=i.findIndex(e=>e.element===a),m=!!a&&e.includes(a)&&"-1"===a.getAttribute("tabindex");if(-1===d&&!m){let t=e.find(e=>"-1"===e.getAttribute("tabindex"));null==t||t.focus()}if(null==u?void 0:u.skippable){var p,f,g,h,v;let e;s.length?1===s.length?n===s[0]?(t.preventDefault(),t.stopPropagation(),requestAnimationFrame(()=>n.focus())):s[0].focus():o?c<o?null==(h=c,(e=(v=r).slice(0,h).reverse().find(e=>!1===e.skippable))||(e=v.slice(h+1-v.length).reverse().find(e=>!1===e.skippable)),f=e)||f.element.focus():null==(g=H(c,r))||g.element.focus():null==(p=H(c,r))||p.element.focus():null==l||l.focus()}})({rootElements:t,e:e,fromElement:a,toElement:l}),z=null,$=null})(t,e),i=l=>G(l,t,e,n,a),o=l=>{var s,r,i,o,c;let u;return s=l,r=t,i=e,o=n,c=a,u=i.find(e=>e.contains(s.target)),void("Tab"!==s.key||u||(s.preventDefault(),s.stopPropagation(),G(s,r,i,o,c)))};return document.addEventListener("keydown",o),document.addEventListener("focusout",r),document.addEventListener("focusin",i),()=>{document.removeEventListener("focusout",r),document.removeEventListener("focusin",i),document.removeEventListener("keydown",o),s(),l.forEach(e=>e())}})({rootElements:this.focusContainmentRootElements,viewElement:null==c?void 0:c.viewElement,elementFocusedLast:ea,setElementFocusedLast:el}))),this.moveFocusIfNecessary(this.layers,this.focusContainmentRootElements,this.layersJustAdded,this.layersJustRemoved,this.layersJustWentToInertOutsideTrue,this.islandsJustRemoved),this.escapeKeyDownListenerCleanup&&(this.escapeKeyDownListenerCleanup(),this.escapeKeyDownListenerCleanup=null),this.clickOutsideListenerCleanup&&(this.clickOutsideListenerCleanup(),this.clickOutsideListenerCleanup=null),i>0&&(this.escapeKeyDownListenerCleanup=(t=this.layers,l=e=>((e,t)=>{if("Escape"!==e.key||K.size)return;let n=t.length;Z(t,n-1,e)})(e,t),document.addEventListener("keydown",l),()=>{document.removeEventListener("keydown",l)}),this.clickOutsideListenerCleanup=(n=this.layers,a=this.islands,s=e=>J=e.target,r=e=>((e,t,n)=>{var a;if(K.size||(null==(a=e.target)?void 0:a.matches('[data-silk~="0ak"] *'))||e.target===document.body&&J!==document.body||!e.target||!e.target.isConnected)return;let l=t.length;q(t,l-1,n,e),J=null})(e,n,a),document.addEventListener("pointerdown",s,{capture:!0}),document.addEventListener("click",r,{capture:!0}),()=>{document.removeEventListener("pointerdown",s,{capture:!0}),document.removeEventListener("click",r,{capture:!0})}));let m=this.layersJustRemoved.length;if(m)for(let e=0;e<m;e++){let t=this.layersJustRemoved[e],n=t.viewElement,a=t.automatic;n&&!a&&(Q(n),ee(n))}this.islandsJustRemoved=[],this.layersJustAdded=[],this.layersJustRemoved=[],this.layersJustWentToInertOutsideTrue=[]};(null==(e=this.layersJustAdded[this.layersJustAdded.length-1])?void 0:e.external)?t():this.processLayersAndIslandsChangesTimeout=setTimeout(t,16)},autoFocusTargets:[],addAutoFocusTarget:function({layerId:e,element:t,timing:n}){this.autoFocusTargets.push({layerId:e,element:t,timing:n})},removeAutoFocusTarget:function(e){this.autoFocusTargets=this.autoFocusTargets.filter(t=>t.element!==e)},islands:[],islandsJustRemoved:[],addIsland:function(e){var t;let n=this.islands[this.islands.length-1],a=(null!=(t=e.id)?t:n)?n.id+1:0;return this.islands.push({...e,id:a}),this.processLayersAndIslandsChanges(),a},removeIsland:function(e,t){this.islands=this.islands.filter(n=>{if(e&&n.id&&n.id!==e||t&&n.element&&n.element!==t)return!0;{let e=n.element.contains(document.activeElement);return this.islandsJustRemoved.push({...n,focusWasInside:e}),!1}}),this.processLayersAndIslandsChanges()},layers:[],layersJustAdded:[],layersJustRemoved:[],layersJustWentToInertOutsideTrue:[],updateLayer:function(e){let t=e.layerId,n=e.viewElement,a=!1,l=this.layers;for(let s=0;s<l.length;s++){let r=l[s];if(null!==t?r.layerId===t:r.viewElement===n){let t={...r,...e};!r.inertOutside&&e.inertOutside&&this.layersJustWentToInertOutsideTrue.push(t),l[s]=t,a=!0;break}}if(!a){var s;let t={...e,elementFocusedLastBeforeShowing:null!=(s=e.elementFocusedLastBeforeShowing)?s:document.activeElement};l.push(t),this.layersJustAdded.push(t)}this.processLayersAndIslandsChanges()},removeLayer:function(e,t){var n;this.layers=this.layers.filter(n=>{if(e&&n.layerId&&n.layerId!==e||t&&n.viewElement&&n.viewElement!==t)return!0;{var a;let e=null==(a=n.viewElement)?void 0:a.contains(document.activeElement);return this.layersJustRemoved.push({...n,focusWasInside:e}),!1}}),0===this.layers.filter(e=>!e.automatic).length&&(null==(n=this.automaticLayerAndIslandDetectionCleanup)||n.call(this)),this.processLayersAndIslandsChanges()},nativeFocusScrollPreventers:[],nativeFocusScrollPreventionCleanup:null,addNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers.push({id:e}),this.processNativeFocusScrollPreventersChanges()},removeNativeFocusScrollPreventer:function(e){this.nativeFocusScrollPreventers=this.nativeFocusScrollPreventers.filter(t=>t.id!==e),this.processNativeFocusScrollPreventersChanges()},processNativeFocusScrollPreventersChanges:function(){let e=this.nativeFocusScrollPreventers.length;if("webkit"===m&&("ios"===p||"ipados"===p))if(e){let e,t,n,a;this.nativeFocusScrollPreventionCleanup||(this.nativeFocusScrollPreventionCleanup=(e=t=>{let n=t.target;if(et(n)){var a;null==(a=null==n?void 0:n.closest('[data-silk~="0ah"]'))||a.focus({preventScroll:!0}),document.removeEventListener("touchstart",e,{capture:!0})}},t=t=>{let n=t.target,a=t.relatedTarget;if(!a)return document.addEventListener("touchstart",e,{capture:!0,passive:!1});if(et(a)&&(R(a)&&document.addEventListener("touchstart",e,{capture:!0,passive:!1}),!(!O(a)&&!R(a)||A(n)))){var l,s,r,i;let e,t,o;if(!((l=a)instanceof HTMLInputElement&&("password"===l.type||"text"===l.type&&"username"===l.autocomplete||(null==(s=l.closest("form"))?void 0:s.querySelector('input[type="password"]'))))&&O(n)&&(t=(e=n.getBoundingClientRect()).height,(o=(null!=(i=null==(r=window.visualViewport)?void 0:r.height)?i:0)-e.bottom)>-t/2&&o<t+32)){let e=n.cloneNode(!1);e.removeAttribute("id"),e.setAttribute("data-silk-clone","true"),e.style.setProperty("position","fixed"),e.style.setProperty("left","0"),e.style.setProperty("top","0"),e.style.setProperty("transform","translateY(-3000px) scale(0)"),document.documentElement.appendChild(e),$=a,null==e||e.focus({preventScroll:!0}),setTimeout(()=>{z=n,$=a,null==a||a.focus({preventScroll:!0}),e.remove()},32)}else $=a,null==a||a.focus({preventScroll:!0})}},n=e=>{var t;let n=e.target;!(n!==document.activeElement||!O(n)||I())&&et(n)&&(null==(t=null==n?void 0:n.closest('[data-silk~="0ab"], [data-silk~="0ad"]'))||t.focus({preventScroll:!0}))},a=e=>{var t;let n=e.target;if(!n||!("setSelectionRange"in n)||!(["password","search","tel","text","url"].includes(n.type)||n instanceof HTMLTextAreaElement)||!0===n._silk_focusedBefore)return;let a=n.value.length;null==(t=n.setSelectionRange)||t.call(n,a,a),n._silk_focusedBefore=!0},document.addEventListener("blur",t,{capture:!0,passive:!1}),document.addEventListener("touchstart",e,{capture:!0,passive:!0}),document.addEventListener("touchend",n,{capture:!0,passive:!0}),document.addEventListener("focusin",a),()=>{document.removeEventListener("blur",t,{capture:!0}),document.removeEventListener("touchend",n,{capture:!0}),document.removeEventListener("touchstart",e,{capture:!0}),document.removeEventListener("focusin",a)}))}else{var t;null==(t=this.nativeFocusScrollPreventionCleanup)||t.call(this),this.nativeFocusScrollPreventionCleanup=null}},fixedComponents:[],addFixedComponent:function(e){this.fixedComponents.push(e)},updateFixedComponent:function(e){let t=this.fixedComponents.find(t=>t.id===e.id);t&&(e.element&&(t.element=e.element),e.initialInlineCSSTransform&&(t.initialInlineCSSTransform=e.initialInlineCSSTransform),"boolean"==typeof e.compensated&&(t.compensated=e.compensated))},removeFixedComponent:function(e){this.fixedComponents=this.fixedComponents.filter(t=>t.id!==e)},findActualFixedComponentsInsideOutlet:function(e){return this.fixedComponents.filter(t=>{if(t.element&&e)return e.contains(t.element)&&"fixed"===window.getComputedStyle(t.element).getPropertyValue("position")})},themeColorMetaTag:null,underlyingThemeColor:null,themeColorDimmingOverlays:[],storeThemeColorMetaTag:function(){if(this.themeColorMetaTag="undefined"!=typeof document?document.querySelector('meta[name="theme-color"]'):null,!this.themeColorMetaTag){let e=document.createElement("meta");e.name="theme-color",e.content=window.getComputedStyle(document.body).backgroundColor,document.head.appendChild(e),this.themeColorMetaTag=e}},getAndStoreUnderlyingThemeColorAsRGBArray:function(){let e;if(this.themeColorDimmingOverlays.length>0)e=this.underlyingThemeColor;else{var t;this.themeColorMetaTag||this.storeThemeColorMetaTag(),(e=L(null==(t=this.themeColorMetaTag)?void 0:t.content))||console.warn("`themeColorDimming` prop ignored: Only `theme-color` meta tag with a value in `rgb()`, `rgba()`, or hexadecimal format is supported."),this.underlyingThemeColor=e}return e},updateUnderlyingThemeColor:function(e){let t=L(e);if(!t)throw Error("The color provided to `updateThemeColor` doesn't match `rgb()`, `rgba()`, or hexadecimal format.");this.underlyingThemeColor=t,this.setActualThemeColor()},setActualThemeColor:function(){var e;this.themeColorMetaTag||this.storeThemeColorMetaTag(),null==(e=this.themeColorMetaTag)||e.setAttribute("content",(({color:e,overlays:t})=>{let n=[...e],a=t.length;for(let e=0;e<a;e++){let a=t[e],l=a.alpha;for(let e=0;e<3;e++)n[e]=(1-l)*n[e]+l*a.color[e]}return"rgb("+n.join(",")+")"})({color:this.underlyingThemeColor,overlays:this.themeColorDimmingOverlays}))},findThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.find(t=>t.dimmingOverlayId===e)},findIndexThemeColorDimmingOverlay:function(e){return this.themeColorDimmingOverlays.findIndex(t=>t.dimmingOverlayId===e)},updateThemeColorDimmingOverlay:function(e){let t=e;t.color&&(t={...t,color:N(t.color)});let n=this.findThemeColorDimmingOverlay(t.dimmingOverlayId);return n?Object.assign(n,t):(n=t,this.themeColorDimmingOverlays.push(t)),this.setActualThemeColor(),n},updateThemeColorDimmingOverlayAlphaValue:function(e,t){e.alpha=t,this.setActualThemeColor()},removeThemeColorDimmingOverlay:function(e){let t=this.findThemeColorDimmingOverlay(e);t&&(t.abortRemoval=!1,setTimeout(()=>{(null==t?void 0:t.abortRemoval)||(this.themeColorDimmingOverlays=this.themeColorDimmingOverlays.filter(t=>t.dimmingOverlayId!==e),this.setActualThemeColor(),0!==this.themeColorDimmingOverlays.length||(this.underlyingThemeColor=null,this.themeColorMetaTag=null))},20))}};let er=e=>{let t=(0,o.useRef)(null);return c(()=>{t.current=e}),(0,o.useCallback)((...e)=>(0,t.current)(...e),[])},ei=e=>"layout"===e?c:o.useEffect,eo=e=>{var t=null==e?void 0:e.lastIndexOf(":");return -1===t?"":null==e?void 0:e.substring(t+1)},ec=(e,t)=>e.includes(":")?e:t.substring(0,t.lastIndexOf(":")+1)+e,eu=e=>{let t=e.split("."),n=[];return t.forEach((e,t)=>{let a=n[t-1],l=(a?a.full+".":"")+e,s=l.substring(0,l.lastIndexOf(":")),r=l.substring(l.lastIndexOf(":")+1);n.push({full:l,withoutState:s,state:r})}),n},ed=(e,t)=>null==e?void 0:e.toStrings().filter(e=>null==e?void 0:e.startsWith(t)).filter(e=>{var n;return!(null==(n=null==e?void 0:e.slice(t.length))?void 0:n.includes("."))})[0],em=e=>{let[t,n]=(0,o.useMemo)(()=>(e=>{let[t,n]=(e=>{let t=[],n=[],a=(e,l,{partOfInitial:s})=>{Array.isArray(e)?e.forEach(e=>a(e,l,{partOfInitial:s})):(l+=(l?".":"")+e.name,s&&n.push(l+":"+e.initial),Object.entries(e.states).forEach(([n,r])=>{let i=l+":"+n;r.machine=l,r.path=i,r.reactive=!e.silentOnly,t.push(r),r.machines&&a(r.machines,i,{partOfInitial:s&&e.initial===n})}))};return a(e,"",{partOfInitial:!0}),[n,t]})(e);return[t,(e,t)=>{let a,l="string"==typeof t?t:t.type,s=[];n.forEach(n=>{e.includes(n.path)&&(!t.machine||t.machine===n.machine)&&n.messages&&Object.entries(n.messages).forEach(([r,i])=>{if(r===l){if("string"==typeof i)a=r,s.push(ec(i,n.path));else for(let l of i)if(!l.guard||l.guard(e,t)){a=r,s.push(ec(l.target,n.path));break}}})});let r=e.map(e=>eu(e)),i=s.map(e=>eu(e)),o=[],c=(({checkedPoolOfStates:e,referencePoolOfStates:t,callbackOnExclusion:n,callbackOnPresent:a})=>e.filter(e=>{let l=!0;return e.forEach(s=>{t.forEach(t=>{t.forEach(r=>{s.withoutState===r.withoutState&&(s.state!==r.state?(l=!1,null==n||n({decomposedCheckedState:e,checkedStatePiece:s,decomposedReferenceState:t,referenceStatePiece:r})):a({decomposedCheckedState:e,checkedStatePiece:s,decomposedReferenceState:t,referenceStatePiece:r}))})})}),l}))({checkedPoolOfStates:r,referencePoolOfStates:i,callbackOnExclusion:({decomposedCheckedState:e})=>{o.push(e[e.length-1].full)},callbackOnPresent:({referenceStatePiece:e})=>{e.unchanged=!0}}).map(e=>e[e.length-1].full),u=[],d=[];i.forEach(e=>{e.forEach((t,a)=>{if(!t.unchanged){var l,s;a<e.length-1&&u.push(t.full);let r=n.find(e=>e.path===t.full);null==(l=r.machines)||null==(s=l.forEach)||s.call(l,t=>{let l=()=>{i.find(e=>e.find(e=>e.withoutState===`${r.path}.${t.name}`))||d.push(`${r.path}.${t.name}:${t.initial}`)};a<e.length-1?r.path+t.name!==e[a+1].withoutState&&l():l();let s=e=>{var t,a;null==(t=n.find(t=>t.path===e).machines)||null==(a=t.forEach)||a.call(t,t=>{i.find(e=>e.find(e=>e.withoutState===`${r.path}.${t.name}`))||d.push(`${e}.${t.name}:${t.initial}`),s(`${e}.${t.name}:${t.initial}`)})};s(`${r.path}.${t.name}:${t.initial}`)})}})});let m=[...s,...u,...d],p=[...c,...m],f=[...o,...m],g=n.filter(e=>f.includes(e.path)).some(e=>e.reactive);return{exitedStates:o,transitionTaken:a,enteredStates:m,nextStates:p,reactive:g}}]})(e),[e]),a=(0,o.useRef)(),l=(0,o.useRef)([]),s=(0,o.useRef)([]),r=(0,o.useRef)([]),i=(0,o.useRef)([]),c=(0,o.useRef)(t),u=(0,o.useRef)({toStrings:()=>t,matches:e=>ef(t,e),lastMessageTreatedRef:a,exitActionsRef:l,transitionActionsRef:s,entryActionsRef:r,selectorsRef:i}),[d,m]=(0,o.useState)({...u.current,silent:u.current}),p=(0,o.useRef)([]);return[d,(0,o.useCallback)(e=>{p.current.push(e);let t=e=>{let{nextStates:o,exitedStates:d,transitionTaken:f,enteredStates:g,reactive:h}=n(c.current,p.current[0]),v=c.current;if(c.current=o,l.current.forEach(e=>{d.includes(e.state)&&("function"==typeof e.guard?e.guard(v,p.current[0]):e.guard)&&e.callback(p.current[0],e.params)}),s.current.forEach(e=>{d.includes(e.state)&&e.transition===f&&("function"==typeof e.guard?e.guard(v,p.current[0]):e.guard)&&e.callback(p.current[0],e.params)}),r.current.forEach(e=>{g.includes(e.state)&&("function"==typeof e.guard?e.guard(v,p.current[0]):e.guard)&&e.callback(p.current[0],e.params)}),a.current="string"==typeof p.current[0]?{type:p.current[0]}:p.current[0],p.current.shift(),p.current.length)t(h||e);else{let t=o.slice();u.current.toStrings=()=>t,u.current.matches=e=>ef(t,e),u.current.getValues=()=>[eo(t.toStrings)],i.current.forEach(e=>{let t=e.current.selection;e.current.toStrings=()=>[ed(u.current,t)],e.current.matches=e=>ef([ed(u.current,t)],e),e.current.getValues=()=>[eo(ed(u.current,t))]}),(e||h)&&m({...u.current,silent:u.current})}};1===p.current.length&&t()},[n])]},ep=(e,t,{shallow:n=!0}={})=>{let a=(0,o.useMemo)(()=>ed(e,t),[e,t]),l=(0,o.useRef)({lastMessageTreatedRef:null==e?void 0:e.lastMessageTreatedRef,exitActionsRef:null==e?void 0:e.exitActionsRef,transitionActionsRef:null==e?void 0:e.transitionActionsRef,entryActionsRef:null==e?void 0:e.entryActionsRef,toStrings:()=>[a],matches:e=>ef([a],e),selection:t,getValues:()=>[eo(a)]}),s=(0,o.useRef)(Symbol());return c(()=>{e.selectorsRef.current.find(e=>e.id===s.current)||e.selectorsRef.current.push(l)},[]),(0,o.useMemo)(()=>({...l.current,silent:l.current}),[a])},ef=(e,t)=>Array.isArray(t)?t.some(t=>e.includes(t))||e.some(e=>t.some(t=>(null==e?void 0:e.startsWith(t))&&(null==e?void 0:e.charAt(t.length))===".")):e.includes(t)||e.some(e=>(null==e?void 0:e.startsWith(t))&&(null==e?void 0:e.charAt(t.length))==="."),eg=(e,t,n)=>{let{state:a,callback:l,params:s,empty:r=!1}=n,i=!n.hasOwnProperty("guard")||n.guard,c=(0,o.useMemo)(()=>s?Object.values(s):[],[s]),u=(0,o.useMemo)(()=>t.entryActionsRef,[t]),d=ei("before-paint"===e?"layout":"normal"),m=er(e=>{((null==e?void 0:e.matches)&&(null==e?void 0:e.matches(a))||!(null==e?void 0:e.matches)&&ef(e,a))&&("function"==typeof i&&i()||"function"!=typeof i&&i)&&l(e.lastMessageTreatedRef.current,s)}),p=(0,o.useRef)(Symbol());d(()=>{if(!r)if("immediate"===e){let e={id:p.current,state:a,guard:i,callback:l,params:s},t=u.current.findIndex(e=>e.id===p.current);-1===t?u.current.push(e):u.current[t]=e}else m(t)},"immediate"===e?[e,a,i,l,u,...c]:[e,m,t]),(0,o.useEffect)(()=>()=>{u.current=u.current.filter(e=>e.id!==p.current)},[])},eh=(e,t)=>{let{state:n,transition:a,callback:l,params:s}=t,r=!t.hasOwnProperty("guard")||t.guard,i=(0,o.useMemo)(()=>s?Object.values(s):[],[s]),c=(0,o.useMemo)(()=>e.transitionActionsRef,[e]),u=(0,o.useRef)(Symbol());(0,o.useEffect)(()=>{let e={id:u.current,state:n,transition:a,guard:r,callback:l,params:s},t=c.current.findIndex(e=>e.id===u.current);-1===t?c.current.push(e):c.current[t]=e},[n,a,r,l,c,...i]),(0,o.useEffect)(()=>()=>{c.current=c.current.filter(e=>e.id!==u.current)},[])},ev=(e,t,n)=>{let{state:a,callback:l,params:s}=n,r=!n.hasOwnProperty("guard")||n.guard,i=(0,o.useMemo)(()=>s?Object.values(s):[],[s]),c=(0,o.useMemo)(()=>t.exitActionsRef,[t]),u=ei("before-paint"===e?"layout":"normal"),d=er(e=>{((null==e?void 0:e.matches)&&(null==e?void 0:e.matches(a))||!(null==e?void 0:e.matches)&&ef(e,a))&&("function"==typeof r&&r()||"function"!=typeof r&&r)&&l(e.lastMessageTreatedRef.current,s)}),m=(0,o.useRef)(Symbol());u(()=>{if("immediate"===e){let e={id:m.current,state:a,guard:r,callback:l,params:s},t=c.current.findIndex(e=>e.id===m.current);-1===t?c.current.push(e):c.current[t]=e}return()=>{"immediate"!==e&&d(t)}},"immediate"===e?[e,a,r,l,c,...i]:[e,d,t]),(0,o.useEffect)(()=>()=>{c.current=c.current.filter(e=>e.id!==m.current)},[])},eb=(e,t,n)=>{let{state:a,callback:l,params:s,name:r}=n,i=!n.hasOwnProperty("guard")||n.guard,c=s?Object.values(s):[],u="string"==typeof e?e:e.start,d="string"==typeof e?e:e.update,m=(0,o.useRef)(null);eg("immediate",t,{state:a,guard:i,callback:(0,o.useCallback)(()=>{m.current=l(null,s)},[l,s]),params:s,empty:"immediate"!==u});let p=ei("before-paint"===d?"layout":"normal"),f=(0,o.useRef)(!1);p(()=>{let e,n=(null==t?void 0:t.matches)&&(null==t?void 0:t.matches(a))||!(null==t?void 0:t.matches)&&ef(t,a)||""===a,r="function"==typeof i&&i()||"function"!=typeof i&&i;return n&&r&&(e="immediate"===u?f.current?l(null,s):m.current:l(null,s)),n&&!f.current&&(f.current=!0),()=>{var n;(null==(n=t.silent)?void 0:n.matches(a))||(f.current=!1,m.current=null),null==e||e()}},[""!==a?t:null,a,i,l,...c])};function ek(...e){return t=>e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}function eS(...e){return(0,o.useCallback)(ek(...e),e)}let ey=!1,eT=0;function eC(e){var t;if(void 0!==o.useId){let t=(0,o.useId)();return null!=e?e:t}let[n,a]=(0,o.useState)(null!=e?e:ey?++eT:null);return c(()=>{null===n&&a(++eT)},[]),(0,o.useEffect)(()=>{!1===ey&&(ey=!0)},[]),null!=(t=null!=e?e:n)?t:void 0}let eE=(0,o.forwardRef)((e,t)=>{let{children:n,...a}=e,l=o.Children.toArray(n),s=l.find(ex);if(s){let e=s.props.children,n=l.map(t=>t!==s?t:o.Children.count(e)>1?o.Children.only(null):(0,o.isValidElement)(e)?e.props.children:null);return(0,r.jsx)(ew,{...a,ref:t,children:(0,o.isValidElement)(e)?(0,o.cloneElement)(e,void 0,n):null})}return(0,r.jsx)(ew,{...a,ref:t,children:n})});eE.displayName="Slot.Root";let ew=(0,o.forwardRef)((e,t)=>{let{children:n,...a}=e,l=function(e){var t,n;let a=null==(t=Object.getOwnPropertyDescriptor(e.props,"ref"))?void 0:t.get,l=a&&"isReactWarning"in a&&a.isReactWarning;return l?e.ref:(l=(a=null==(n=Object.getOwnPropertyDescriptor(e,"ref"))?void 0:n.get)&&"isReactWarning"in a&&a.isReactWarning)?e.props.ref:e.props.ref||e.ref}(n);return(0,o.isValidElement)(n)?(0,o.cloneElement)(n,{...function(e,t){let n={...t};for(let a in t){let l=e[a],s=t[a];/^on[A-Z]/.test(a)?l&&s?n[a]=(...e)=>{s(...e),l(...e)}:l&&(n[a]=l):"style"===a?n[a]={...l,...s}:"className"===a&&(n[a]=[l,s].filter(Boolean).join(" "))}return{...e,...n}}(a,n.props),ref:t?ek(t,l):l}):o.Children.count(n)>1?o.Children.only(null):null});ew.displayName="Slot.Anonymous";let eA=({children:e})=>(0,r.jsx)(r.Fragment,{children:e});function ex(e){return(0,o.isValidElement)(e)&&e.type===eA}let eO=0,eR=[0,0],eP=!1,eI=()=>{clearTimeout(a),eP=!0,a=setTimeout(()=>eP=!1,50)},eD=()=>{eP||window.scrollTo(...eR)},eN=o.forwardRef((e,t)=>{let{asChild:n,active:a=!0,automaticallyDisabledForOptimisation:l=!0,axis:s="both",preventBodyScroll:i,children:u,"data-silk":d,className:m,...f}=e,g=null==d?void 0:d.includes("0ae"),h=(0,o.useRef)(null),b=eS(h,t);c(()=>{if(eR=[window.screenX,window.scrollY],a&&i)if(0===eO){let e=window.innerWidth,t=document.documentElement.clientWidth,n=window.innerHeight,a=document.documentElement.clientHeight;document.body.style.setProperty("overflow","hidden");let l=`${e-t}px`,s=`${n-a}px`;document.querySelectorAll("[data-silk~='0al']").forEach(e=>{e.style.setProperty("--x-collapsed-scrollbar-thickness",l),e.style.setProperty("--y-collapsed-scrollbar-thickness",s)}),document.body.style.setProperty("padding-right",l),document.body.style.setProperty("padding-bottom",s),window.addEventListener("resize",eI),window.addEventListener("scroll",eD,{passive:!1}),eO++}else eO++;return()=>{if(a&&i&&0==--eO){let e=document.querySelectorAll("[data-silk~='0al']");document.body.style.removeProperty("overflow"),e.forEach(e=>{e.style.removeProperty("--x-collapsed-scrollbar-thickness"),e.style.removeProperty("--y-collapsed-scrollbar-thickness")}),document.body.style.removeProperty("padding-right"),document.body.style.removeProperty("padding-bottom"),window.removeEventListener("scroll",eD),window.removeEventListener("resize",eI)}}},[i,a]),(0,o.useEffect)(()=>{let e,t=h.current;return!g&&a&&t&&(e=new ResizeObserver(e=>{e.forEach(()=>{t.scrollTo(300,300)})})).observe(t,{box:"border-box"}),()=>{!g&&a&&t&&e&&(e.unobserve(t),e.disconnect())}},[a,g]);let k=(0,o.useCallback)(e=>{let t=e.currentTarget;t.scrollTo(300,300),"ios"!==p&&"ipados"!==p||CSS.supports("overscroll-behavior: contain")||(t.style.setProperty("overflow","hidden"),setTimeout(()=>{t.style.setProperty("overflow","auto")},10))},[]),S=n?eE:"div",y=v("ScrollTrap",{active:a,automaticallyDisabledForOptimisation:l,axis:s});return(0,r.jsx)(S,{...y("root",["active","automaticallyDisabledForOptimisation","axis"],{className:m,dataSilk:[d,"0ac","0ae"]}),onScroll:g?void 0:k,...f,ref:b,children:u})});eN.displayName="Sheet.Anonymous";let eL=o.forwardRef((e,t)=>{let{asChild:n,className:a,dataSilk:l,children:s,...i}=e,o=n?eE:"div",c=v("ScrollTrap",{});return(0,r.jsx)(o,{...c("stabiliser",[],{className:a,dataSilk:[l]}),...i,ref:t,children:s})});eL.displayName="Sheet.DDD";let eM={Root:eN,Stabiliser:eL},e_=()=>{let e=eC();return(0,o.useCallback)(t=>{t?es.addFixedComponent({id:e,element:t}):es.removeFixedComponent(e)},[e])};o.forwardRef((e,t)=>{let{asChild:n,children:a,className:l,"data-silk":s,...i}=e,o=eS(e_(),t),c=v("Fixed",{});return(0,r.jsx)(eM.Root,{...c("root",[],{className:l,dataSilk:[s,"0al"]}),asChild:n,...i,ref:o,children:a})}).displayName="Fixed.Root",o.forwardRef((e,t)=>{let{asChild:n,children:a,...l}=e;return(0,r.jsx)(eM.Stabiliser,{asChild:n,...l,ref:t,children:a})}).displayName="Fixed.Content";let eF=o.createContext(null);eF.displayName="Sheet.GenericContext";let eB=o.createContext(null);eB.displayName="Sheet.Anonymous";var eW=function(e){let t="cubic-bezier(";if(!e.startsWith(t))return null;let n=e.slice(t.length,-1).split(",").map(e=>parseFloat(e.trim()));return 4!==n.length||n.some(isNaN)?null:n};let ej=()=>CSS.supports("transition-timing-function","linear(0, 1)")&&"webkit"!==m,eV=(e,t)=>{let n={};return e.forEach(([e,a])=>{let l=u(t);n[e]=a({progress:t,tween:l})}),n},eU=({type:e,progressValuesArray:t,target:n,templatesPerProperty:a,reversedStackingIndex:l,selfAndAboveTravelProgressSum:s})=>{let r=null!=l,i=t=>"travel"===e?t:r&&s?(null==s?void 0:s[l])+t:0;return{target:n,keyframes:ej()?[eV(a,i(t[0])),eV(a,i(t[t.length-1]))]:t.map(e=>eV(a,i(e)))}},eY=e=>{let t=(0,o.useRef)(null);return c(()=>{t.current=e}),(0,o.useCallback)((...e)=>(0,t.current)(...e),[])},eX=(()=>{let e=!0;"undefined"==typeof window||CSS.supports("scroll-snap-align: start")||(e=!1);let t=!0;return"undefined"==typeof window||"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype||(t=!1),e&&t})(),eH={gentle:{stiffness:560,damping:68,mass:1.85},smooth:{stiffness:580,damping:60,mass:1.35},snappy:{stiffness:350,damping:34,mass:.9},brisk:{stiffness:350,damping:28,mass:.65},bouncy:{stiffness:240,damping:19,mass:.7},elastic:{stiffness:260,damping:20,mass:1}},eG=(e,t)=>{var n;let a="string"==typeof e,l=a?eH[e]:null!=(n=eH[null==e?void 0:e.preset])?n:null,s=l||(null==e?void 0:e.easing)==="spring"||["ease","ease-in","ease-out","ease-in-out","linear"].includes(null==e?void 0:e.easing);return{skip:P,easing:"spring",...a?{}:e,...null!=l?l:{},...s?{}:t}},ez=(e,t)=>e.includes("skipOpening:true")||t.skipOpening,e$=(e,t)=>!e.includes("skipOpening:true")&&!t.skipOpening,eK=(e,t)=>e.includes("skipClosing:true")||t.skipClosing,eq=(e,t)=>!e.includes("skipClosing:true")&&!t.skipClosing,eJ=e=>e.includes("openness:closed.status:safe-to-unmount"),eZ=o.forwardRef((e,t)=>{let n,{forComponent:a,as:l,children:s,className:i,"data-silk":c,initialState:d,onPresentAutoFocus:f,onDismissAutoFocus:g,onTravelStatusChange:h,onTravelRangeChange:b,swipeDismissal:k=!0,swipe:S=!0,snapOutAcceleration:y="auto",snapToEndDetentsAcceleration:T="auto",onTravel:E,onTravelStart:w,onTravelEnd:A,detents:x,inertOutside:O=!0,nativeEdgeSwipePrevention:R=!1,onSwipeFromEdgeToGoBackAttempt:P,onClickOutside:I,onEscapeKeyDown:N,onFocusInside:L,nativeFocusScrollPrevention:B=!0,contentPlacement:W=null,tracks:j,swipeOvershoot:V=!0,swipeTrap:U,enteringAnimationSettings:Y,exitingAnimationSettings:X,steppingAnimationSettings:H,id:G,...z}=e,$=null!=a?a:eF,q=(0,o.useContext)($)||{},{license:J,StackContext:Z,CustomSheetContext:Q,sheetRole:ee,open:et,onOpenChange:en,elementFocusedLastBeforeShowing:ea,onSafeToUnmountChange:er,setLongRunning:ei,setStaging:eo,defaultActiveDetent:ec,activeDetent:eu,onActiveDetentChange:ed,sheetId:ef}=q,{titleId:ek,descriptionId:ey,staging:eT,opennessState:eE,sendToOpennessMachine:ew,positionState:eA,sendToPositionMachine:ex,layerCovered:eO,stackingIndex:eR,assignStackingIndex:eP}=(()=>{let e="false",[t,n]=em((0,o.useMemo)(()=>[{name:"staging",initial:"none",states:{none:{messages:{OPEN:[{guard:(e,t)=>eJ(e,t)&&e$(e,t),target:"opening"},{guard:eJ,target:"open"}],OPEN_PREPARED:[{guard:e$,target:"opening"},{target:"open"}],ACTUALLY_CLOSE:[{guard:eq,target:"closing"}],ACTUALLY_STEP:"stepping",GO_DOWN:[{guard:(e,t)=>!t.skipOpening,target:"going-down"},{target:"go-down"}],GO_UP:"going-up"}},open:{messages:{NEXT:"none"}},opening:{messages:{NEXT:"none"}},stepping:{messages:{NEXT:"none"}},closing:{messages:{NEXT:"none"}},"go-down":{messages:{NEXT:"none"}},"going-down":{messages:{NEXT:"none"}},"going-up":{messages:{NEXT:"none"}}}},{name:"longRunning",initial:e,states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"openness",initial:"closed",states:{closed:{messages:{READY_TO_OPEN:[{guard:(e,t)=>!t.skipOpening,target:"opening"},{target:"open"}]},machines:{name:"status",initial:"safe-to-unmount",states:{pending:{messages:{OPEN:[{guard:ez,target:"openness:closed.status:flushing-to-preparing-open"},{target:"openness:closed.status:flushing-to-preparing-opening"}],"":"safe-to-unmount"}},"flushing-to-preparing-open":{messages:{"":"preparing-open"}},"flushing-to-preparing-opening":{messages:{"":"preparing-opening"}},"preparing-open":{},"preparing-opening":{},"safe-to-unmount":{}}}},opening:{messages:{NEXT:"open"}},open:{messages:{ACTUALLY_CLOSE:[{guard:eK,target:"openness:closed.status:pending"}],SWIPED_OUT:"openness:closed.status:pending",READY_TO_CLOSE:[{guard:(e,t)=>!t.skipClosing,target:"closing"}]},machines:[{name:"scroll",initial:"ended",states:{ended:{messages:{SCROLL_START:"ongoing"},machines:[{name:"afterPaintEffectsRun",initial:"false",states:{false:{messages:{OCCURRED:"true"}},true:{}}}]},ongoing:{messages:{SCROLL_END:"ended"}}}},{name:"move",initial:"ended",states:{ended:{messages:{MOVE_START:"ongoing"}},ongoing:{messages:{MOVE_END:"ended"}}}},{name:"swipe",silentOnly:!0,initial:"unstarted",states:{unstarted:{messages:{SWIPE_START:"ongoing"}},ongoing:{messages:{SWIPE_END:"ended"}},ended:{messages:{SWIPE_START:"ongoing",SWIPE_RESET:"unstarted"}}}},{name:"evaluateCloseMessage",silentOnly:!0,initial:"false",states:{false:{messages:{CLOSE:"true"}},true:{messages:{CLOSE:"false"}}}},{name:"evaluateStepMessage",silentOnly:!0,initial:"false",states:{false:{messages:{STEP:"true"}},true:{messages:{STEP:"false"}}}}]},closing:{messages:{NEXT:"openness:closed.status:pending"}}}},{name:"skipOpening",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"skipClosing",initial:"false",states:{true:{messages:{TO_FALSE:"false"}},false:{messages:{TO_TRUE:"true"}}}},{name:"scrollContainerTouch",silentOnly:!0,initial:"ended",states:{ended:{messages:{TOUCH_START:"ongoing"}},ongoing:{messages:{TOUCH_END:"ended"}}}},{name:"backStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}},{name:"frontStuck",silentOnly:!0,initial:"false",states:{false:{messages:{STUCK_START:"true"}},true:{messages:{STUCK_END:"false"}}}}],[e])),[a,l]=em((0,o.useMemo)(()=>[{name:"active",initial:"false",states:{false:{messages:{TO_TRUE:"true"}},true:{messages:{TO_FALSE:"false"}}}},{name:"position",initial:"out",states:{out:{messages:{READY_TO_GO_FRONT:[{guard:(e,t)=>t.skipOpening,target:"position:front.status:idle"},{target:"position:front.status:opening"}]}},front:{machines:[{name:"status",initial:"opening",states:{opening:{messages:{NEXT:"idle"}},closing:{messages:{NEXT:"position:out"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(e,t)=>t.skipOpening,target:"position:covered.status:idle"},{target:"position:covered.status:going-down"}],READY_TO_GO_OUT:"closing",GO_OUT:"position:out"}}}}]},covered:{machines:[{name:"status",initial:"going-down",states:{"going-down":{messages:{NEXT:"idle"}},"going-up":{messages:{NEXT:"indeterminate"}},indeterminate:{messages:{GOTO_idle:"idle",GOTO_front:"position:front.status:idle"}},idle:{messages:{READY_TO_GO_DOWN:[{guard:(e,t)=>t.skipOpening,target:"come-back"},{target:"going-down"}],READY_TO_GO_UP:"going-up",GO_UP:"indeterminate"}},"come-back":{messages:{"":"idle"}}}}]}}}],[])),s=(0,o.useMemo)(()=>a.matches("position:out")?"out":a.matches("position:front")?"front":a.matches("position:covered")?"covered":void 0,[a]),r=(0,o.useMemo)(()=>a.matches("position:covered.status:idle")?"idle":a.matches("position:covered.status:going-down")?"going-down":a.matches("position:covered.status:going-up")?"going-up":null,[a]),i=ep(t,"staging"),c=(0,o.useMemo)(()=>i.getValues()[0],[i]),[u,d]=(e=>{let t=(0,o.useRef)({value:-1}),[n,a]=(0,o.useState)({value:-1,silent:t.current});return[n,(0,o.useCallback)(e=>{let n="function"==typeof e?e(t.current.value):e;t.current.value=n,a({value:n,silent:t.current})},[])]})(-1),m=eC(),p=eC();return(0,o.useMemo)(()=>({titleId:m,descriptionId:p,staging:c,opennessState:t,sendToOpennessMachine:n,positionState:a,sendToPositionMachine:l,layerPosition:s,layerCovered:r,stackingIndex:u,assignStackingIndex:d}),[m,p,c,t,n,a,l,s,r,u,d])})(),eI=ep(eE,"staging"),{stackId:eD,setSheetsCount:eN,updateSheetStagingDataInStack:eL,removeSheetStagingDataInStack:eV,updateSheetDataInStack:eZ,removeSheetDataFromStack:eQ,getPreviousSheetDataInStack:e0}=Z?(0,o.useContext)(Z):{},{ancestorPrimarySwipeTrapActiveOnYAxis:e1}=(0,o.useContext)(eB)||{},e2=e_(),e3=(0,o.useRef)(null),e5=eS(e3,e2,t),e6=(0,o.useRef)(null),e4=(0,o.useRef)(null),e8=(0,o.useRef)(null),e9=(0,o.useRef)(null),e7=(0,o.useRef)(null),te=(0,o.useRef)(null),tt=(0,o.useRef)(null),tn=(0,o.useRef)([]),ta=(0,o.useMemo)(()=>x?"string"==typeof x?[x,"var(--silk-aF)"]:[...x,"var(--silk-aF)"]:["var(--silk-aF)"],[x]),tl=(0,o.useRef)(null);(0,o.useEffect)(()=>{null===tl.current&&Number.isInteger(eu)&&eu>0&&(tl.current=eu)},[]);let ts=(0,o.useMemo)(()=>Number.isInteger(ec)?ec:Number.isInteger(eu)&&eu>0?eu:tl.current?tl.current:1,[eu,ec]),{actualTrack:tr,actualPlacement:ti}=(0,o.useMemo)(()=>{let e={actualPlacement:null,actualTrack:null};return W&&!j?(e.actualPlacement=W,"center"!==W?e.actualTrack=W:e.actualTrack="bottom"):j&&!W?Array.isArray(j)?(e.actualPlacement="center",e.actualTrack=j.includes("left")?"horizontal":"vertical"):(e.actualPlacement=j,e.actualTrack=j):j||W?j&&W&&(e.actualPlacement=W,Array.isArray(j)?e.actualTrack=j.includes("left")?"horizontal":"vertical":e.actualTrack=j):(e.actualPlacement="bottom",e.actualTrack="bottom"),[{state:"staging:opening",configTrack:null==Y?void 0:Y.track},{state:"staging:closing",configTrack:null==X?void 0:X.track}].forEach(({state:t,configTrack:n})=>{eE.matches(t)&&n&&("top"===n&&"bottom"===e.actualTrack||"bottom"===n&&"top"===e.actualTrack?e.actualTrack="vertical":("left"===n&&"right"===e.actualTrack||"right"===n&&"left"===e.actualTrack)&&(e.actualTrack="horizontal"))}),e},[W,j,null==Y?void 0:Y.track,null==X?void 0:X.track,eE]);(0,o.useMemo)(()=>"horizontal"===tr,[tr]);let to=(0,o.useMemo)(()=>"vertical"===tr,[tr]);(0,o.useEffect)(()=>{if((null==W?void 0:W.includes("top"))&&j&&"top"!==j||(null==W?void 0:W.includes("bottom"))&&j&&"bottom"!==j||!(null==W?void 0:W.includes("center"))&&j&&j.includes("top")&&j.includes("bottom")||(null==W?void 0:W.includes("left"))&&j&&"left"!==j||(null==W?void 0:W.includes("right"))&&j&&"right"!==j||!(null==W?void 0:W.includes("center"))&&j&&j.includes("left")&&j.includes("right"))throw Error(`'placement' prop value '${W}' cannot be used with 'tracks' prop value '${j}'.`)},[W,j]);let tc=(0,o.useMemo)(()=>(null==Y?void 0:Y.track)||("horizontal"===tr?"right":"vertical"===tr?"bottom":tr),[null==Y?void 0:Y.track,tr]),tu=(0,o.useMemo)(()=>eG(Y,eH.smooth),[Y]),td=(0,o.useMemo)(()=>eG(X,{easing:"spring",stiffness:520,damping:44,mass:1}),[X]),tm=(0,o.useMemo)(()=>eG(null!=H?H:Y,eH.smooth),[H,Y]),tp=(0,o.useMemo)(()=>"alertdialog"===ee||!k,[k,ee]),tf=("horizontal"!==tr&&"vertical"!==tr||!!tp)&&!V,[tg,th,tv,tb]=(0,o.useMemo)(()=>{let e=!1,t=!1,n=!1,a=!1;return S&&eX?tp&&(x?(n=!0,eE.matches("openness:open")&&!eE.matches("staging:closing")&&(t=!0)):eE.matches("openness:open")&&!eE.matches("staging:closing")&&(!1===tf&&"webkit"===m?a=!0:e=!0)):eE.matches("openness:closed")||(e=!0),[e,t,n,a]},[S,eE,tp,x,tf]),tk=(0,o.useMemo)(()=>"none"!==eI.getValues()[0],[eI]),tS=["right","left","horizontal"].includes(tr)?"horizontal":"vertical",[ty,tT]=(0,o.useState)(!1),[tC,tE]=(0,o.useState)(!1),tw=(0,o.useMemo)(()=>!O&&(O?void 0:!0!==ty),[O,ty]),tA=(0,o.useMemo)(()=>!0===tf?"auto"===T?10:1:0,[tf,T]),tx=(0,o.useRef)(null);(0,o.useEffect)(()=>(ef&&(tx.current=es.addSheet({id:ef,stackId:eD,stackingIndex:-1,sendToOpennessMachine:ew})),()=>{ef&&es.attemptToRemoveSheetOrCleanup(ef)}),[ew,ef,eD]),(0,o.useEffect)(()=>(B&&es.addNativeFocusScrollPreventer(ef),()=>{B&&es.removeNativeFocusScrollPreventer(ef)}),[B,ef]);let tO=(0,o.useMemo)(()=>null==e0?void 0:e0(ef),[e0,ef]),[tR,tP]=(0,o.useState)(null),tI=(0,o.useMemo)(()=>E&&tR?e=>{tR(e),E(e)}:E&&!tR?E:!E&&tR?tR:null,[E,tR]),tD=(0,o.useCallback)(()=>{null==A||A();let e=tj.current.exactProgressValueAtDetents[tG.current[0]];nv.current=e,es.updateSheetTravelProgress(ef,e)},[A,ef]),tN=(0,o.useMemo)(()=>{let e;if(eR.value>0)e=tI?(e,t)=>{tI({progress:e,range:t,progressAtDetents:tj.current.exactProgressValueAtDetents});let n=u(e);tx.current.aggregatedTravelCallback(e,n)}:e=>{let t=u(e);tx.current.aggregatedTravelCallback(e,t)};else{let t=es.getAggregatedStackingCallbackForSheetsBelow(ef);e=t?tI?(e,n)=>{tI({progress:e,range:n,progressAtDetents:tj.current.exactProgressValueAtDetents});let a=u(e);tx.current.aggregatedTravelCallback(e,a),t(e,a)}:e=>{let n=u(e);tx.current.aggregatedTravelCallback(e,n),t(e,n)}:()=>{}}return e},[eR.value,tI,ef]),tL=(0,o.useRef)(!1),tM=(0,o.useMemo)(()=>{let e;return"bottom"===tr||"vertical"===tr?e="translateY(-2px)":"top"===tr?e="translateY(2px)":"right"===tr||"horizontal"===tr?e="translateX(-2px)":"left"===tr&&(e="translateX(2px)"),t=>{t>0&&t<1&&!tL.current?(e7.current.style.setProperty("transform",e),tL.current=!0):(t>1||t<=0)&&tL.current&&(e7.current.style.removeProperty("transform"),tL.current=!1)}},[tr]),t_=(0,o.useMemo)(()=>tb?e=>tM(e):tN,[tM,tb,tN]),[tF,tB]=(0,o.useState)("both"),tW=M(e3);(0,o.useEffect)(()=>{var e,t;let n,a,l;if("boolean"==typeof U)n={x:U,y:U};else{let{x:e,y:t}=U||{};n={x:e,y:t}}let s=("ios"===p||"ipados"===p)&&O&&!e1,r=_();"vertical"===tS&&(a=n.x,l=!!s||!r&&(null==(e=n.y)||e)),"horizontal"===tS&&(l=!!s||n.y,a=null==(t=n.x)||t),l=!!l||tW,a&&!l?tB("horizontal"):!a&&l?tB("vertical"):a&&l?tB("both"):tB("none")},[e1,O,U,tW,tS]);let tj=(0,o.useRef)({}),[tV,tU]=(0,o.useState)(0),[tY,tX]=(0,o.useState)(()=>()=>({top:null,bottom:null})),tH=(0,o.useRef)([]),tG=(0,o.useRef)([0,0]),tz=(0,o.useRef)(0),t$=(0,o.useRef)(null),tK=(0,o.useRef)(()=>{}),tq=(0,o.useRef)(!1),tJ=(0,o.useRef)(!1),tZ=(0,o.useCallback)(e=>tJ.current=e,[]),tQ=eY(({destinationDetent:e,trackToTravelOn:t="vertical"===tr?"bottom":"horizontal"===tr?"right":tr,behavior:n="instant",runTravelCallbacksAndAnimations:a=!0,runOnTravelStart:l=!0,animationConfig:s,rAFLoopEndCallback:r,travelEndCallback:i})=>{(({destinationDetent:e,behavior:t="instant",runTravelCallbacksAndAnimations:n=!0,runOnTravelStart:a,animationConfig:l,rAFLoopEndCallback:s,trackToTravelOn:r,contentPlacement:i,onTravel:o,onTravelStart:c,onTravelEnd:u,fullTravelCallback:d,setProgrammaticScrollOngoing:m,currentDetent:p,segment:f,setSegment:g,lastProgressValue:h,dimensions:v,viewRef:b,scrollContainerRef:k,contentWrapperRef:S,sheetId:y,stackId:T,actualSwipeOutDisabledWithDetent:E,hasOppositeTracks:w,snapBackAcceleratorTravelAxisSize:A})=>{if(void 0===e&&null===p)return;let x=v.current,O=k.current;if(O&&x.content){let k=(({desiredDestinationDetent:e,currentDetent:t})=>"number"==typeof e?e:t)({desiredDestinationDetent:e,currentDetent:p}),{positionToScrollTo:R,scrollAxis:P}=(({trackToTravelOn:e,destinationDetent:t,detentCountExcludingZero:n,actualSwipeOutDisabledWithDetent:a,hasOppositeTracks:l,contentPlacement:s,elementsDimensions:r,snapBackAcceleratorTravelAxisSize:i})=>{var o;if((null==(o=r.detentMarkers)?void 0:o.length)<=t-1)return{positionToScrollTo:null,scrollAxis:null};let c=0===t,u=1===t,d=t===n,m="right"===e||"bottom"===e,p=r.view.travelAxis.unitless,f=r.content.travelAxis.unitless,g=r.snapOutAccelerator.travelAxis.unitless,h=r.detentMarkers,v=c?0:h[t-1].accumulatedOffsets.travelAxis.unitless,b=0;if(l)d?b=p-(p-f)/2+r.snapOutAccelerator.travelAxis.unitless:c&&(b=1e4*!m);else if(m)d?b=1e4:a&&u||c?b=0:d||a&&u||c||(b=a?h[t-1].accumulatedOffsets.travelAxis.unitless-h[0].travelAxis.unitless:v+g);else if("left"===e||"top"===e){let e;e=a&&u?2*i:d?0:i,b="center"===s?0===t?f+(p-f)/2-v+e:0:f-v+e}return{positionToScrollTo:b,scrollAxis:"left"===e||"right"===e||"horizontal"===e?"x":"y"}})({destinationDetent:k,detentCountExcludingZero:v.current.detentMarkers.length,trackToTravelOn:r,actualSwipeOutDisabledWithDetent:E,hasOppositeTracks:w,contentPlacement:i,snapBackAcceleratorTravelAxisSize:A,elementsDimensions:x});if(null!==R&&null!==P){if(m(!0),"smooth"===t)(({sheetId:e,destinationDetent:t,setSegment:n,viewElement:a,scrollContainer:l,travellingElement:s,contentPlacement:r,positionToScrollTo:i,scrollAxis:o,animationConfig:c,onTravel:u,onTravelStart:d,onTravelEnd:m,runOnTravelStart:p,rAFLoopEndCallback:f,dimensions:g,trackToTravelOn:h})=>{let v,b,k=es.findSheet(e);if(!k)return;let S=[],y=[];S=k.travelAnimations,k.belowSheetsInStack.forEach(e=>{y.push(...e.stackingAnimations.map(t=>({...t,reversedStackingIndex:k.belowSheetsInStack.length-1,selfAndAboveTravelProgressSum:e.selfAndAboveTravelProgressSum})))}),p&&(null==d||d());let T=!(c.hasOwnProperty("contentMove")&&!c.contentMove),E=g.current.view.travelAxis.unitless,w=g.current.content.travelAxis.unitless,A=a.getBoundingClientRect(),x=s.getBoundingClientRect(),O="center"!==r?w:w+(E-w)/2,R=x.top-A.top,P=x.left-A.left,I=0;switch(h){case"top":I=R+O;break;case"bottom":I=R-O;break;case"left":I=P+O;break;case"right":I=P-O}let D=Math.max(Math.abs(I)/O,0),N=g.current.progressValueAtDetents[t].exact,L=N*O,M="left"===h||"top"===h?L:-L,{progressValuesArray:_,easing:F,duration:B,delay:W}=(({origin:e=0,destination:t=1,animationConfig:n})=>{var a,l,s,r,i,o,c,u,d;let m=[],p;if(n&&n.easing&&"spring"!==n.easing)if("linear"===n.easing){let e=p=null!=(o=n.duration)?o:250,t=1/(e-1);for(let n=0;n<e;n++){let e=n*t;m.push(isNaN(e)?0:e)}}else{let e=p=null!=(c=n.duration)?c:250,t=C(..."ease"===n.easing?[.25,.1,.25,1]:"ease-in"===n.easing?[.42,0,1,1]:"ease-out"===n.easing?[0,0,.58,1]:"ease-in-out"===n.easing?[.42,0,.58,1]:n.easing.startsWith("cubic-bezier")&&null!=(u=eW(n.easing))?u:[.25,.1,.25,1]);for(let n=0;n<=e;n++)m.push(t(n/e))}else{let o=(({mass:e,stiffness:t,damping:n,initialVelocity:a=0,fromPosition:l,toPosition:s,precision:r})=>{let i=[],o=0,c=Math.abs(s-l),u=0,d=a,m=!1,p=!1,f=-(1e-6*t),g=-(.001*n),h=r/22,v=10*r;for(;!(m&&p);){let t=(f*(u-c)+g*d)/e;d+=t,u+=d,m=Math.abs(d)<=h,p=Math.abs(c-u)<=v;let n=u/c;i.push(n),o++}return{progressValuesArray:i,duration:o}})({stiffness:null!=(a=null==n?void 0:n.stiffness)?a:300,damping:null!=(l=null==n?void 0:n.damping)?l:34,mass:null!=(s=null==n?void 0:n.mass)?s:1,initialVelocity:null!=(r=null==n?void 0:n.initialVelocity)?r:0,precision:null!=(i=null==n?void 0:n.precision)?i:.1,fromPosition:e,toPosition:t});m=o.progressValuesArray,p=o.duration}return{progressValuesArray:m,easing:"linear",duration:p,delay:null!=(d=null==n?void 0:n.delay)?d:0}})({origin:I,destination:M,animationConfig:c}),j=N-D,V=function(e,t){let n=[];for(let t=0;t<e.length-1;t+=8)n.push(e[t]);return e.length%8!=0&&n.push(e[e.length-1]),n}(_,8),U=V.map(e=>D+j*e),Y=[];S.length&&(null==Y||Y.push(...S.map(e=>eU({type:"travel",progressValuesArray:U,target:e.target,templatesPerProperty:e.config})))),y.length&&(null==Y||Y.push(...y.map(e=>eU({type:"stacking",progressValuesArray:U,target:e.target,templatesPerProperty:e.config,reversedStackingIndex:e.reversedStackingIndex,selfAndAboveTravelProgressSum:e.selfAndAboveTravelProgressSum})))),v="x"===o?"X":"Y";let X=e=>({transform:"translate"+v+"("+(I-M)*(1-e)+"px)"});b=ej()?[X(V[0]),X(V[V.length-1])]:V.map(e=>({transform:"translate"+v+"("+(I-M)*(1-e)+"px)"}));let H=e=>{let t;if(!T)return e();t=ej()?s.animate(b,{easing:"linear("+V.join(",")+")",duration:B,delay:W}):s.animate(b,{easing:F,duration:B,delay:W});let n=()=>{e(),t.removeEventListener("finish",n)};t.addEventListener("finish",n)},G=e=>{if(!Y.length)return e();let t=[],n=ej();null==Y||Y.forEach(({target:e,keyframes:a})=>{let l;l=n?e.animate(a,{easing:"linear("+V.join(",")+")",duration:B,delay:W}):e.animate(a,{easing:F,duration:B,delay:W});let s=new Promise(t=>{let n=()=>{Object.entries(a[a.length-1]).forEach(([t,n])=>{e.style.setProperty((t.startsWith("webkit")||t.startsWith("moz")?"-":"")+t.replace(/[A-Z]/g,"-$&").toLowerCase(),n)}),l.removeEventListener("finish",n),t()};l.addEventListener("finish",n)});t.push(s)}),Promise.all(t).then(()=>{e()})},z=null,$=e=>{!function e(n,a,l){let s=g.current.progressValueAtDetents,r=s.length;z||(z=n);let i=Math.floor(n-z);if(i<_.length){let t=D+j*_[i];if(t<0)a(t,[0,0]);else if(t>1)a(t,[1,1]);else for(let e=0;e<r;e++){let n=s[e],l=n.after;t>l&&e+1<r&&t<s[e+1].before?a(t,[e,e+1]):t>n.before&&t<l&&a(t,[e,e])}requestAnimationFrame(()=>e(document.timeline.currentTime,a,l))}else{let e=Math.min(r-1,t);a(N,[e,e]),T||(null==Y?void 0:Y.length)||null==f||f(),l()}}(document.timeline.currentTime,(e,t)=>{null==u||u({progress:e,range:{start:t[0],end:t[1]},progressAtDetents:g.current.exactProgressValueAtDetents}),n(t)},e)},K=e=>new Promise(t=>{e(()=>t())}),q=async()=>{await Promise.all([K(H),K(G),K($)]),null==m||m()};requestAnimationFrame(()=>{requestAnimationFrame(()=>{l.scrollTo({left:"x"===o?i:0,top:"y"===o?i:0}),q()})})})({sheetId:y,stackId:T,destinationDetent:k,setSegment:g,viewElement:b.current,scrollContainer:O,travellingElement:S.current,positionToScrollTo:R,contentPlacement:i,scrollAxis:P,animationConfig:l,onTravel:o,onTravelStart:c,onTravelEnd:u,runOnTravelStart:a,rAFLoopEndCallback:s,dimensions:v,trackToTravelOn:r,lastProgressValue:h});else if(n&&a&&(null==c||c()),"x"===P?(O.scrollTo(R,0),O.scrollLeft=R):(O.scrollTo(0,R),O.scrollTop=R),g([k,k]),n){let e=v.current.progressValueAtDetents[k].exact;null==d||d(e,f),null==u||u()}}}})({destinationDetent:e,behavior:n,runTravelCallbacksAndAnimations:a,runOnTravelStart:l,trackToTravelOn:t,animationConfig:s,rAFLoopEndCallback:r,onTravel:tI,onTravelStart:w,onTravelEnd:()=>{null==i||i(),tD()},segment:tG,fullTravelCallback:tN,sheetId:ef,stackId:eD,dimensions:tj,snapBackAcceleratorTravelAxisSize:tA,actualSwipeOutDisabledWithDetent:th,lastProgressValue:nv,viewRef:e3,scrollContainerRef:e8,contentWrapperRef:e7,currentDetent:tG.current[0]===tG.current[1]?tG.current[0]:null,setSegment:ns,setProgrammaticScrollOngoing:tZ,contentPlacement:ti,hasOppositeTracks:"horizontal"===tr||"vertical"===tr})}),t0=(0,o.useCallback)(()=>{tG.current[0]===tG.current[1]&&tQ({runTravelCallbacksAndAnimations:!1,destinationDetent:tG.current[0]})},[ef,tr,th,tb,tA]),t1=(0,o.useCallback)(e=>{null==eZ||eZ({sheetId:ef,sendToOpennessMachine:ew,sendToPositionMachine:ex})},[eZ,ef,ew,ex]),t2=(0,o.useCallback)(()=>{null==eQ||eQ(ef)},[eQ,ef]),t3=(0,o.useMemo)(()=>"alertdialog"===ee?()=>{}:()=>ew({type:"CLOSE"}),[ew,ee]),t5=(0,o.useCallback)(()=>{es.updateLayer({layerId:ef,layerContextId:Q,layerStackContextId:Z,inertOutside:O,onPresentAutoFocus:f,onDismissAutoFocus:g,dismissOverlayIfNotAlertDialog:t3,onClickOutside:I,onEscapeKeyDown:N,viewElement:e3.current,backdropElement:e4.current,scrollContainerElement:e8.current,elementFocusedLastBeforeShowing:ea.current})},[ef,Q,Z,O,f,g,t3,I,N,ea]),t6=(0,o.useCallback)(()=>{es.removeLayer(ef)},[ef]),t4=(0,o.useCallback)(()=>{let e=e=>["ArrowDown","ArrowUp","PageDown","PageUp","End","Home"," "].includes(e.key),t=t=>{if(e(t)){var n,a;null==(n=e8.current)||n.style.setProperty("overflow","hidden"),null==(a=e8.current)||a.style.setProperty("scroll-snap-type","none")}},n=t=>{if(e(t)){var n,a;null==(n=e8.current)||n.style.removeProperty("overflow"),null==(a=e8.current)||a.style.removeProperty("scroll-snap-type")}};return document.addEventListener("keydown",t),document.addEventListener("keyup",n),()=>{document.removeEventListener("keydown",t),document.removeEventListener("keyup",n)}},[]),t8=(0,o.useCallback)(()=>{eP(e=>e+1),es.updateSheetStackingIndex(ef,eR.silent.value)},[eP,eR.silent,ef]),t9=(0,o.useCallback)(()=>{eP(e=>e-1),es.updateSheetStackingIndex(ef,eR.silent.value)},[eP,eR.silent,ef]),t7=ep(eA,"active");eb("after-paint",t7,{state:"active:true",callback:t5}),eb("after-paint",t7,{state:"active:true",callback:t4}),eg("after-paint",t7,{state:"active:false",callback:t6});let ne=ep(eA,"position"),nt=ep(eA,"position:covered.status");eh(ne,{state:"position:out",transition:"READY_TO_GO_FRONT",callback:(0,o.useCallback)(e=>{null==tO||tO.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:e.skipOpening}),t8()},[t8,tO])}),eh(eA,{state:"position:front.status:opening",transition:"NEXT",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("NEXT")},[tO])}),eh(eA,{state:"position:front.status:idle",transition:"READY_TO_GO_OUT",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("READY_TO_GO_UP")},[tO])}),eh(eA,{state:"position:front.status:idle",transition:"GO_OUT",callback:(0,o.useCallback)(()=>{null==tN||tN(0,{start:0,end:0}),tD(),null==tO||tO.sendToPositionMachine("GO_UP"),t9()},[tN,tD,tO,t9])}),eh(eA,{state:"position:front.status:idle",transition:"READY_TO_GO_DOWN",callback:(0,o.useCallback)(e=>{null==tO||tO.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:e.skipOpening}),t8()},[t8,tO])}),eh(eA,{state:"position:front.status:closing",transition:"NEXT",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("NEXT"),t9()},[tO,t9])}),eh(nt,{state:"position:covered.status:going-down",transition:"NEXT",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("NEXT")},[tO])}),eh(nt,{state:"position:covered.status:idle",transition:"READY_TO_GO_DOWN",callback:(0,o.useCallback)(e=>{null==tO||tO.sendToPositionMachine({type:"READY_TO_GO_DOWN",skipOpening:e.skipOpening}),t8()},[t8,tO])}),eh(nt,{state:"position:covered.status:idle",transition:"READY_TO_GO_UP",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("READY_TO_GO_UP")},[tO])}),eh(nt,{state:"position:covered.status:idle",transition:"GO_UP",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("GO_UP"),t9()},[t9,tO])}),eg("immediate",nt,{state:"position:covered.status:come-back",callback:(0,o.useCallback)(()=>ex(""),[ex])}),eh(nt,{state:"position:covered.status:going-up",transition:"NEXT",callback:(0,o.useCallback)(()=>{null==tO||tO.sendToPositionMachine("NEXT"),t9()},[tO,t9])}),eg("immediate",nt,{state:"position:covered.status:indeterminate",callback:(0,o.useCallback)(()=>{0===eR.silent.value?ex("GOTO_front"):ex("GOTO_idle")},[eR.silent,ex])});let nn=(0,o.useCallback)(()=>null==tO?void 0:tO.sendToOpennessMachine({machine:"staging",type:"NEXT"}),[tO]),na=(0,o.useCallback)((e,{newState:t})=>{eo(t),null==eL||eL({sheetId:ef,staging:t}),null==n||n(t)},[n,eo,eL,ef]),nl=(0,o.useCallback)((e,{newState:t})=>{null==h||h(t)},[h]),ns=(0,o.useMemo)(()=>{let e=e=>{tz.current=e[1],queueMicrotask(()=>{let t=e[0],n=e[1];(t!==tG.current[0]||n!==tG.current[1])&&(tG.current=e,t===n&&(null===t$.current&&ed?ed(n):t===t$.current&&(t$.current=null)))})};return b&&!1===tf?e=e=>{tz.current=e[1],queueMicrotask(()=>{let t=e[0],n=e[1];(t!==tG.current[0]||n!==tG.current[1])&&(tG.current=e,b({start:t,end:n}),t===n&&(null===t$.current&&ed?ed(n):t===t$.current&&(t$.current=null)))})}:!0===tf&&(e=tv?e=>{tz.current=e[1],queueMicrotask(()=>{let t=e[0],n=e[1];if(t!==tG.current[0]||n!==tG.current[1]){let a=ta.length;th&&1===t&&1===n?ew({machine:"backStuck",type:"STUCK_START"}):t===a&&n===a?ew({machine:"frontStuck",type:"STUCK_START"}):nI.current?ew({machine:"frontStuck",type:"STUCK_END"}):nR.current&&ew({machine:"backStuck",type:"STUCK_END"}),tG.current=e,null==b||b({start:t,end:n}),t===n&&(null===t$.current&&ed?ed(n):t===t$.current&&(t$.current=null))}})}:e=>{tz.current=e[1],queueMicrotask(()=>{let t=e[0],n=e[1];if(t!==tG.current[0]||n!==tG.current[1]){let a=ta.length;t===a&&n===a?ew({machine:"frontStuck",type:"STUCK_START"}):nI.current&&ew({machine:"frontStuck",type:"STUCK_END"}),tG.current=e,null==b||b({start:t,end:n}),t===n&&(null===t$.current&&ed?ed(n):t===t$.current&&(t$.current=null))}})}),e},[b,tf,ed,tv,th,ta.length,ew]),nr=(0,o.useCallback)(e=>{if(tQ({destinationDetent:"front"===e?tj.current.detentMarkers.length:1,runTravelCallbacksAndAnimations:!1}),"webkit"===m){var t;null==(t=e8.current)||t.style.setProperty("overflow","hidden"),setTimeout(()=>{var e;null==(e=e8.current)||e.style.removeProperty("overflow")},CSS.supports("overscroll-behavior","none")?1:10)}tq.current=!1},[tQ]),ni=(0,o.useCallback)((e,t)=>{let n=tG.current[0],a=null!=t?t:null;if(null===a){var l,s;a="up"===(null!=e?e:"up")?(l=tG.current[0])<ta.length?l+1:1:(s=tG.current[0])>1?s-1:ta.length}return 0===a||a===n?null:a},[ta]),no=(0,o.useCallback)(({direction:e,detent:t,behavior:n})=>{let a=()=>{let a=ni(e,t);a&&ew({type:"ACTUALLY_STEP",detent:a,behavior:n})};eE.silent.matches("openness:open.scroll:ended.afterPaintEffectsRun:true")?a():nL.current=a},[eE.silent,ni,ew]),nc=(0,o.useCallback)((e,t)=>{t$.current=e,null==ed||ed(e),tQ({destinationDetent:e,behavior:null!=t?t:tm.skip?"instant":"smooth",animationConfig:tm,travelEndCallback:()=>ew({machine:"staging",type:"NEXT"})})},[ed,tQ,tm,ew]),nu=(0,o.useCallback)((e,t,n,a)=>{let l;if("auto"===e){let e="center"===a?n+(t-n)/2:n;l="chromium"===m?e<=1440?70+.25*e:.3*e:"webkit"===m?"ios"===p||"ipados"===p?e<=716?15+.1*e:.12*e:.5*e:10}else if("function"==typeof e){let t=parseInt(e(n),10);l=t<1?1:t>n/2?n/2:t}else"initial"===e&&(l=1);return l},[]),nd=(0,o.useCallback)(()=>{if(e3.current){let e=(e,t)=>e3.current.style.setProperty(e,t);e("--silk-aD",tj.current.view.travelAxis.px),e("--silk-aE",tj.current.view.crossAxis.px),e("--silk-aF",tj.current.content.travelAxis.px),e("--silk-aG",tj.current.content.crossAxis.px),e("--silk-aH",tj.current.frontSpacer.travelAxis.px),e("--silk-aI",tj.current.backSpacer.travelAxis.px),e("--silk-aJ",tj.current.snapOutAccelerator.travelAxis.px),e("--silk-aK",tj.current.detentMarkers[0].travelAxis.px)}},[]),nm=(0,o.useCallback)(e=>{let t=e3.current,n=te.current,a=[];tn.current.forEach(e=>{a.push(window.getComputedStyle(e))});let l=e=>parseInt(e,10),s=e=>"right"===tr||"left"===tr||"horizontal"===tr?"travelAxis"===e?"width":"height":"travelAxis"===e?"height":"width",r=e=>{let t,n,a,r,i,o;return n=parseFloat(t=e.getPropertyValue(s("travelAxis"))),a=l(t),i=l(r=e.getPropertyValue(s("crossAxis"))),o=l(r),{travelAxis:{px:t,unitless:n,unitlessRoundedDown:a},crossAxis:{px:r,unitless:i,unitlessRoundedDown:o}}},i=()=>{let e,t,n=window.getComputedStyle(e3.current),s=window.getComputedStyle(te.current),i=0;tU(e=>e+1),tj.current={view:{...r(n)},scroll:{},snapOutAccelerator:{travelAxis:{}},frontSpacer:{travelAxis:{}},backSpacer:{travelAxis:{}},content:{...r(s)},detentMarkers:[...a.map((e,t)=>{let n=r(e);return t!==a.length-1&&(i+=n.travelAxis.unitless),{...n,accumulatedOffsets:{travelAxis:{px:i+"px",unitless:i,unitlessRoundedDown:null}}}})],progressValueAtDetents:[]};let o=tj.current;o.scroll=o.view;let c=nu(y,o.view.travelAxis.unitless,o.content.travelAxis.unitless,ti);o.snapOutAccelerator.travelAxis.px=c+"px",o.snapOutAccelerator.travelAxis.unitless=c,o.snapOutAccelerator.travelAxis.unitlessRoundedDown=l(c);let u=o.detentMarkers.length,d=o.content.travelAxis.unitless-i;o.detentMarkers[u-1]={travelAxis:{px:d+"px",unitless:d,unitlessRoundedDown:null},crossAxis:{px:"1px",unitless:1,unitlessRoundedDown:1},accumulatedOffsets:{travelAxis:{px:i+d+"px",unitless:i+d,unitlessRoundedDown:null}}};let m=e=>({before:e(-2.1),exact:e(0),after:e(2.1)}),p=o.content.travelAxis.unitless,f=[m(e=>e/p)],g;o.detentMarkers.slice(0,-1).forEach(e=>{let t=e.accumulatedOffsets.travelAxis.unitless;f.push(m(e=>(t+e)/p))}),f.push(m(e=>(p+e)/p)),g=f[ts];let h=tH.current.length>0?tH.current[tG.current[1]]:0,v=function(e,t){let n=0;for(let a=1;a<t.length;a++)Math.abs(t[a]-e)<Math.abs(t[n]-e)&&(n=a);return n}(null!=h?h:1,f.map(e=>e.exact));ns([v,v]),o.progressValueAtDetents=f,o.exactProgressValueAtDetents=f.map(e=>e.exact),tH.current=o.progressValueAtDetents.map(e=>e.exact),o.progressValueAtInitialDetent=g,e=tb?"horizontal"===tr||"vertical"===tr?o.view.travelAxis.unitless/2+1:1:th?o.content.travelAxis.unitless-tj.current.detentMarkers[0].travelAxis.unitless+tA:"horizontal"===tr||"vertical"===tr?o.view.travelAxis.unitless/2+o.view.travelAxis.unitless-(o.view.travelAxis.unitless-o.content.travelAxis.unitless)/2+o.snapOutAccelerator.travelAxis.unitless:"center"===ti?o.view.travelAxis.unitless-(o.view.travelAxis.unitless-o.content.travelAxis.unitless)/2+o.snapOutAccelerator.travelAxis.unitless:o.view.travelAxis.unitless-(o.view.travelAxis.unitless-o.content.travelAxis.unitless)+o.snapOutAccelerator.travelAxis.unitless,o.frontSpacer.travelAxis.unitless=e,o.frontSpacer.travelAxis.px=e+"px",t=!0===tf&&"auto"===T?o.view.travelAxis.unitless+tA:"horizontal"===tr||"vertical"===tr?tb?o.view.travelAxis.unitless/2:o.view.travelAxis.unitless/2+o.view.travelAxis.unitless-(o.view.travelAxis.unitless-o.content.travelAxis.unitless)/2+o.snapOutAccelerator.travelAxis.unitless:o.view.travelAxis.unitless,o.backSpacer.travelAxis.unitless=t,o.backSpacer.travelAxis.px=t+"px",nd(),tX(()=>()=>{let e,t;if(!e3.current)return{top:null,bottom:null};let n=e3.current.getBoundingClientRect(),a=n.top,l=n.bottom,s=to||"top"===tr||"bottom"===tr,r=o.view[s?"travelAxis":"crossAxis"].unitless,i=o.content[s?"travelAxis":"crossAxis"].unitless;return"left"===ti||"right"===ti||"center"===ti?(e=a+(r-i)/2,t=l-(r-i)/2):"top"===ti?(e=a,t=l-(r-i)):"bottom"===ti&&(e=a+(r-i),t=l),{top:e,bottom:t}})};i();let o=(e,t)=>{let n=new ResizeObserver(e=>{e.forEach(()=>t())});return n.observe(e,{box:"border-box"}),n},c=()=>{i(),tQ({runTravelCallbacksAndAnimations:!1})},u=!0,d=o(t,()=>{u?u=!1:c()}),m=!0,p=o(n,()=>{m?(i(),m=!1):c()});return()=>{d&&t&&(d.unobserve(t),d.disconnect()),p&&n&&(p.unobserve(n),p.disconnect())}},[tr,nu,y,ts,tf,nd,tA,T,tQ,ns,ti,th,tb,ta]),np=(0,o.useCallback)(e=>{let t,n=0,a=e,l=0;return e=>{t=e;let s=a-e;return n=s,(0===s||Math.abs(s)<Math.abs(l/2))&&eE.silent.matches("scrollContainerTouch:ongoing")&&(t=a-l/2,n=a-t),Math.abs(n)>=.1&&.35>Math.abs(n)&&(t=n>=0?a-.1:a+.1,n=n>=0?.1:-.1),e<=0&&(t=0),a=t,l=n,t}},[eE.silent]),nf=(0,o.useCallback)(()=>{var e;let t,n,a="right"===tr||"left"===tr||"horizontal"===tr?"scrollLeft":"scrollTop",l=e8.current,s=tj.current.snapOutAccelerator.travelAxis.unitless,r=tj.current.content.travelAxis.unitless,i=tj.current.scroll.travelAxis.unitless,o=np(null!=(e=nv.current)?e:tj.current.progressValueAtDetents[tG.current[1]].exact),c="right"===tr||"bottom"===tr,u="left"===tr||"top"===tr;if(c||u){let e;if(tb)e=u?e=>1-e/r:e=>1+e/r;else if(c)if("center"!==ti){let t=th?tj.current.detentMarkers[0].travelAxis.unitless-tA:-s;e=e=>(e+t)/r}else{let t=r+(i-r)/2;e=e=>(e-s)/t}else if(u)if("center"!==ti)e=e=>(r+tA-e)/r;else{let t=r+(i-r)/2;e=e=>(t+tA-e)/t}let d=!0===tf?1:10,m=!0===tf&&th?tj.current.progressValueAtDetents[1].exact:0;n=()=>(t=l[a],Math.min(Math.max(o(Math.min(Math.max(e(t),m),d)),m),d))}else if("horizontal"===tr||"vertical"===tr){let e=(i-r)/2,c=tb?0:s+i-e,u=r+e;n=()=>Math.max(o(Math.max(1-Math.abs((t=l[a])-c)/u,0)),0)}return n},[tr,np,tf,tb,ti,th,tA,tV]),ng=(0,o.useRef)(),nh=(0,o.useCallback)(()=>{let e=e8.current,t=()=>{ew({machine:"openness:open.move",type:"MOVE_END"});for(let e=0;e<tj.current.progressValueAtDetents.length;e++){let t=tj.current.progressValueAtDetents[e].exact;nv.current>t-.01&&nv.current<t+.01&&(ew({machine:"openness:open.scroll",type:"SCROLL_END"}),ew({machine:"openness:open.swipe",type:"SWIPE_END"}))}},n=()=>{tJ.current?tZ(!1):(nN.current||ew({machine:"openness:open.scroll",type:"SCROLL_START"}),nI.current||nR.current||(n_.current||ew({machine:"openness:open.swipe",type:"SWIPE_START"}),nM.current||ew({machine:"openness:open.move",type:"MOVE_START"}))),clearTimeout(ng.current),ng.current=setTimeout(t,200)};return e.addEventListener("scroll",n),()=>{e.removeEventListener("scroll",n),clearTimeout(ng.current)}},[ew,tZ]),nv=(0,o.useRef)(null),nb=(0,o.useCallback)(()=>{let e;if(t_){let t=tj.current.progressValueAtDetents,n=t.length,a=nf();e=(e=>{let t,n=()=>{e(),t=requestAnimationFrame(n)};return n(),()=>{cancelAnimationFrame(t)}})(()=>{let e,l=a();if(nv.current!==l){for(let a=0;a<n;a++){let s=t[a],r=s.after;l>r&&a+1<n&&l<t[a+1].before?(e={start:a,end:a+1},ns([a,a+1])):l>s.before&&l<r?(e={start:a,end:a},ns([a,a])):l<=0&&(e={start:0,end:0},ns([0,0]))}tK.current(l,e),nv.current=l}})}return()=>{null==e||e()}},[ns,t_,nf]),nk=(0,o.useCallback)(e=>{let t=1e5,n=e=>{t<Math.abs(e.deltaY)?window.removeEventListener("wheel",n,{passive:!1}):e.preventDefault(),t=Math.abs(e.deltaY)};return window.addEventListener("wheel",n,{passive:!1}),setTimeout(()=>{e("SWIPED_OUT")},100),()=>window.removeEventListener("wheel",n,{passive:!1})},[]),nS=(0,o.useCallback)((e,{send:t})=>{let n,a=e3.current,l=te.current,s=e8.current,r=!1,i=()=>r=!0;window.addEventListener("wheel",i,{passive:!0,once:!0});let o=new IntersectionObserver(function(e){for(let i of e)i.isIntersecting||(a.style.setProperty("pointer-events","none","important"),a.style.setProperty("opacity","0","important"),a.style.setProperty("position","fixed","important"),a.style.setProperty("top","-100px","important"),a.style.setProperty("left","-100px","important"),l.style.setProperty("pointer-events","none","important"),s.style.setProperty("width","1px","important"),s.style.setProperty("height","1px","important"),s.style.setProperty("clip-path","inset(0)","important"),requestAnimationFrame(()=>{r?n=nk(t):t("SWIPED_OUT")}))},{root:a,threshold:[0]});return o.observe(l),()=>{null==n||n(),window.removeEventListener("wheel",i,{passive:!0,once:!0}),o&&(o.unobserve(l),o.disconnect())}},[nk]),ny=(0,o.useRef)(()=>0),nT=(0,o.useCallback)(()=>{let e=e3.current,t=e=>{D({nativeEvent:e,defaultBehavior:{},handler:L})};return null==e||e.addEventListener("focus",t,{capture:!0}),()=>{null==e||e.removeEventListener("focus",t,{capture:!0})}},[L]),nC=(0,o.useCallback)(e=>{e8.current.contains(e.target)&&ew({machine:"scrollContainerTouch",type:"TOUCH_START"})},[ew]),nE=(0,o.useCallback)(e=>{e8.current.contains(e.target)&&ew({machine:"scrollContainerTouch",type:"TOUCH_END"})},[ew]);eg("immediate",eI,{state:"staging:none",callback:na,params:{newState:"none"}}),eh(eI,{state:"staging:none",transition:"OPEN",callback:(0,o.useCallback)(()=>null==tO?void 0:tO.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:null==tu?void 0:tu.skip}),[tO,null==tu?void 0:tu.skip])}),eh(eI,{state:"staging:none",transition:"OPEN_PREPARED",callback:(0,o.useCallback)(e=>null==tO?void 0:tO.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:e.skipOpening}),[tO])}),eh(eI,{state:"staging:none",transition:"GO_DOWN",callback:(0,o.useCallback)(e=>null==tO?void 0:tO.sendToOpennessMachine({machine:"staging",type:"GO_DOWN",skipOpening:e.skipOpening}),[tO])}),eh(eI,{state:"staging:none",transition:"ACTUALLY_CLOSE",callback:(0,o.useCallback)(()=>null==tO?void 0:tO.sendToOpennessMachine({machine:"staging",type:"GO_UP"}),[tO])}),eh(eI,{state:"staging:none",transition:"GO_UP",callback:(0,o.useCallback)(e=>null==tO?void 0:tO.sendToOpennessMachine({machine:"staging",type:"GO_UP",skipClosing:e.skipClosing}),[tO])}),eg("immediate",eI,{state:"staging:open",callback:na,params:{newState:"open"}}),eg("immediate",eI,{state:"staging:open",callback:(0,o.useCallback)(()=>{ew({machine:"longRunning",type:"TO_TRUE"})},[ew])}),eg("immediate",eI,{state:"staging:open",callback:(0,o.useCallback)(()=>{et||null==en||en(!0)},[et,en])}),eg("after-paint",eI,{state:"staging:open",callback:(0,o.useCallback)(()=>{requestAnimationFrame(()=>{ew({machine:"openness",type:"READY_TO_OPEN",skipOpening:!0}),ew({machine:"staging",type:"NEXT"})})},[ew])}),eh(eI,{state:"staging:open",transition:"NEXT",callback:nn}),eg("immediate",eI,{state:"staging:opening",callback:na,params:{newState:"opening"}}),eg("immediate",eI,{state:"staging:opening",callback:(0,o.useCallback)(()=>{ew({machine:"longRunning",type:"TO_TRUE"})},[ew])}),eg("immediate",eI,{state:"staging:opening",callback:(0,o.useCallback)(()=>{et||null==en||en(!0)},[et,en])}),eg("before-paint",eI,{state:"staging:opening",callback:(0,o.useCallback)(()=>{null==w||w(),tN(0,{start:0,end:0})},[tN,w])}),eg("after-paint",eI,{state:"staging:opening",callback:(0,o.useCallback)(()=>{requestAnimationFrame(()=>{ew({machine:"openness",type:"READY_TO_OPEN",skipOpening:!1})})},[ew])}),eb("after-paint",eI,{state:"staging:opening",callback:(0,o.useCallback)(()=>(K.add(ef),()=>{K.delete(ef)}),[ef])}),eh(eI,{state:"staging:opening",transition:"NEXT",callback:nn}),eg("immediate",eI,{state:"staging:stepping",callback:na,params:{newState:"stepping"}}),eg("after-paint",eI,{state:"staging:stepping",callback:(0,o.useCallback)(({detent:e,behavior:t})=>{null==h||h("stepping"),nc(e,t)},[h,nc])}),ev("immediate",eI,{state:"staging:stepping",callback:(0,o.useCallback)(()=>{null==h||h("idleInside")},[h])}),eg("immediate",eI,{state:"staging:closing",callback:na,params:{newState:"closing"}}),eg("immediate",eI,{state:"staging:closing",callback:(0,o.useCallback)(()=>{et&&(null==en||en(!1))},[et,en])}),eg("after-paint",eI,{state:"staging:closing",callback:(0,o.useCallback)(()=>{ew({machine:"openness",type:"READY_TO_CLOSE"})},[ew])}),eh(eI,{state:"staging:closing",transition:"NEXT",callback:nn}),eg("immediate",eI,{state:"staging:go-down",callback:na,params:{newState:"go-down"}}),eh(eI,{state:"staging:go-down",transition:"NEXT",callback:nn}),eg("immediate",eI,{state:"staging:going-down",callback:na,params:{newState:"going-down"}}),eh(eI,{state:"staging:going-down",transition:"NEXT",callback:nn}),eg("immediate",eI,{state:"staging:going-up",callback:na,params:{newState:"going-up"}}),eh(eI,{state:"staging:going-up",transition:"NEXT",callback:nn});let nw=ep(eE,"longRunning");eg("immediate",nw,{state:"longRunning:true",callback:(0,o.useCallback)(()=>{null===ea.current&&(ea.current=document.activeElement)},[ea])}),eg("immediate",nw,{state:"longRunning:true",callback:(0,o.useCallback)(()=>{ei(!0),null==eN||eN(e=>e+1)},[ei,eN])}),eb("before-paint",nw,{state:"longRunning:true",callback:nm}),eg("before-paint",nw,{state:"longRunning:true",guard:!tu.skip,callback:(0,o.useCallback)(()=>{tQ({trackToTravelOn:tc,runTravelCallbacksAndAnimations:!1,destinationDetent:0})},[tQ,tc])}),eb("after-paint",nw,{state:"longRunning:true",guard:R,callback:(0,o.useCallback)(()=>((e,t)=>{let n=()=>{null==t||t()},a=e=>{e.preventDefault(),window.addEventListener("touchend",n,{once:!0})},l=e.current;return l.addEventListener("touchstart",a,{passive:!1}),()=>{l&&(l.removeEventListener("touchstart",a,{passive:!1}),window.removeEventListener("touchend",n))}})(e6,P),[P])}),eb("after-paint",nw,{state:"longRunning:true",callback:t1}),eg("immediate",nw,{state:"longRunning:false",callback:(0,o.useCallback)(()=>{ei(!1),null==eN||eN(e=>e-1)},[ei,eN])}),eg("immediate",nw,{state:"longRunning:false",callback:(0,o.useCallback)(()=>{ea.current=null},[ea])}),eg("before-paint",nw,{state:"longRunning:false",callback:(0,o.useCallback)(()=>{es.removeAllOutletPersistedStylesFromSheet(ef)},[ef])}),eg("after-paint",nw,{state:"longRunning:false",callback:t2}),eb("before-paint",t7,{state:"active:true",callback:t0});let nA=ep(eE,"openness"),nx=ep(eE,"openness:closed.status");eg("immediate",nA,{state:"openness:closed",callback:nl,params:{newState:"idleOutside"}}),eg("immediate",nA,{state:"openness:closed",callback:(0,o.useCallback)(()=>{ew({machine:"longRunning",type:"TO_FALSE"})},[ew])}),eg("immediate",nA,{state:"openness:closed",callback:(0,o.useCallback)(()=>{et&&(null==en||en(!1))},[et,en])}),eg("immediate",nA,{state:"openness:closed",callback:(0,o.useCallback)(()=>{ex({machine:"active",type:"TO_FALSE"})},[ex])}),eg("after-paint",nA,{state:"openness:closed",callback:(0,o.useCallback)(()=>{clearTimeout(ng.current),nv.current=null,ns([0,0]),tL.current=!1,eP(-1),tq.current=!1},[eP,ns])}),eh(nA,{state:"openness:closed",transition:"READY_TO_OPEN",callback:(0,o.useCallback)(e=>{ex({machine:"position",type:"READY_TO_GO_FRONT",skipOpening:e.skipOpening})},[ex])}),((e,t,n,{message:a="",delay:l=null,...s}={delay:null})=>{(0,o.useEffect)(()=>{let a;return t.matches(n)&&(a=setTimeout(()=>e({type:"",...s}),null!=l?l:0)),()=>{a&&clearTimeout(a)}},[t,n,l,e,a,s])})(ew,nx,"openness:closed.status:pending",{delay:3e3}),ev("immediate",nx,{state:"openness:closed.status:pending",callback:(0,o.useCallback)(()=>{ew("SWIPE_RESET")},[ew])}),eg("before-paint",nx,{state:"openness:closed.status:flushing-to-preparing-opening",callback:(0,o.useCallback)(()=>{ew({machine:"openness:closed.status",type:""})},[ew])}),eg("before-paint",nx,{state:"openness:closed.status:flushing-to-preparing-open",callback:(0,o.useCallback)(()=>{ew({machine:"openness:closed.status",type:""})},[ew])}),eg("after-paint",nx,{state:"openness:closed.status:preparing-opening",callback:(0,o.useCallback)(()=>{ew({machine:"staging",type:"OPEN_PREPARED",skipOpening:!1})},[ew])}),eg("after-paint",nx,{state:"openness:closed.status:preparing-open",callback:(0,o.useCallback)(()=>{ew({machine:"staging",type:"OPEN_PREPARED",skipOpening:!0})},[ew])}),eg("immediate",nx,{state:"openness:closed.status:safe-to-unmount",callback:(0,o.useCallback)(()=>{null==er||er(!0)},[er])}),ev("immediate",nx,{state:"openness:closed.status:safe-to-unmount",callback:(0,o.useCallback)(()=>{null==er||er(!1)},[er])}),eg("immediate",nA,{state:"openness:opening",callback:nl,params:{newState:"entering"}}),eg("before-paint",nA,{state:"openness:opening",callback:(0,o.useCallback)(()=>{t$.current=ts,null==ed||ed(ts),tQ({trackToTravelOn:tc,destinationDetent:ts,behavior:"smooth",animationConfig:tu,travelEndCallback:()=>ew("NEXT"),runOnTravelStart:!1})},[tc,ed,tQ,ts,tu,ew])}),eh(nA,{state:"openness:opening",transition:"NEXT",callback:(0,o.useCallback)(()=>{ex("NEXT"),ew({machine:"staging",type:"NEXT"})},[ex,ew])}),eg("immediate",nA,{state:"openness:open",callback:nl,params:{newState:"idleInside"}}),eg("immediate",nA,{state:"openness:open",callback:(0,o.useCallback)(()=>{ex({machine:"active",type:"TO_TRUE"})},[ex])}),eg("before-paint",nA,{state:"openness:open",guard:tu.skip,callback:(0,o.useCallback)(()=>{t$.current=ts,null==ed||ed(ts),tQ({trackToTravelOn:tc,destinationDetent:ts})},[ts,ed,tQ,tc])}),eb("before-paint",nA,{state:"openness:open",callback:(0,o.useCallback)(()=>{if("webkit"===m&&tp){var e;null==(e=e8.current)||e.style.setProperty("will-change","transform"),requestAnimationFrame(()=>{var e;return null==(e=e8.current)?void 0:e.style.removeProperty("will-change","transform")})}},[tp]),params:{unusedDep:tV}}),eb("before-paint",nA,{state:"openness:open",guard:!tg,callback:nh}),eg("after-paint",eI,{state:"staging:open",guard:!0===tf&&"auto"===T,callback:(0,o.useCallback)(()=>{ts===ta.length?ew({machine:"frontStuck",type:"STUCK_START"}):tp&&1===ts&&ew({machine:"backStuck",type:"STUCK_START"})},[ew,ts,ta,tp])}),eb("after-paint",nA,{state:"openness:open",guard:!tg&&!tb&&!th,callback:nS,params:{send:ew}}),eb("after-paint",nA,{state:"openness:open",callback:nT}),eh(nA,{state:"openness:open",transition:"READY_TO_CLOSE",callback:(0,o.useCallback)(()=>ex("READY_TO_GO_OUT"),[ex])}),eh(nA,{state:"openness:open",transition:"ACTUALLY_CLOSE",callback:(0,o.useCallback)(()=>{t$.current=null,null==ed||ed(0),null==w||w(),ex("GO_OUT")},[ed,w,ex])}),eh(nA,{state:"openness:open",transition:"SWIPED_OUT",callback:(0,o.useCallback)(()=>{var e;null==(e=e8.current)||e.style.setProperty("scroll-snap-type","none","important"),t$.current=null,null==ed||ed(0),ex("GO_OUT")},[ed,ex])}),ev("immediate",nA,{state:"openness:open",callback:(0,o.useCallback)(()=>{ew("SWIPE_END")},[ew])});let nO=ep(eE,"backStuck"),nR=(0,o.useRef)(!1);eh(nO,{state:"backStuck:false",transition:"STUCK_START",callback:(0,o.useCallback)(()=>nR.current=!0,[])}),eh(nO,{state:"backStuck:true",transition:"STUCK_END",callback:(0,o.useCallback)(()=>nR.current=!1,[])}),eh(nO,{state:"backStuck:false",transition:"STUCK_START",guard:!0===tf&&"auto"===T,callback:(0,o.useCallback)(()=>{eE.silent.matches("scrollContainerTouch:ended")&&nr("back")},[eE.silent,nr])});let nP=ep(eE,"frontStuck"),nI=(0,o.useRef)(!1);eh(nP,{state:"frontStuck:false",transition:"STUCK_START",callback:(0,o.useCallback)(()=>nI.current=!0,[])}),eh(nP,{state:"frontStuck:true",transition:"STUCK_END",callback:(0,o.useCallback)(()=>nI.current=!1,[])}),eh(nP,{state:"frontStuck:false",transition:"STUCK_START",guard:!0===tf&&"auto"===T,callback:(0,o.useCallback)(()=>{eE.silent.matches("openness:open")&&eE.silent.matches("scrollContainerTouch:ended")&&nr("front")},[eE.silent,nr])}),eg("immediate",eE,{state:"scrollContainerTouch:ended",guard:!0===tf&&"auto"===T,callback:(0,o.useCallback)(()=>{tq.current&&setTimeout(()=>{requestAnimationFrame(()=>{eE.silent.matches("openness:open")&&(eE.silent.matches("backStuck:true")?nr("back"):eE.silent.matches("frontStuck:true")&&nr("front"))})},80)},[eE.silent,nr])});let nD=ep(eE,"openness:open.scroll"),nN=(0,o.useRef)(!1);eg("immediate",nD,{state:"openness:open.scroll:ongoing",callback:(0,o.useCallback)(()=>nN.current=!0,[])}),ev("immediate",nD,{state:"openness:open.scroll:ongoing",callback:(0,o.useCallback)(()=>nN.current=!1,[])}),eg("immediate",nD,{state:"openness:open.scroll:ongoing",callback:(0,o.useCallback)(()=>{tq.current=!0},[])}),eb({start:"immediate",update:"before-paint"},nD,{state:"openness:open.scroll:ongoing",callback:nb});let nL=(0,o.useRef)(()=>{});eg("after-paint",nD,{state:"openness:open.scroll:ended",callback:(0,o.useCallback)(()=>{ew({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"OCCURRED"}),nL.current(),nL.current=()=>{}},[ew])}),ev("immediate",nD,{state:"openness:open.scroll:ended",callback:(0,o.useCallback)(()=>{ew({machine:"openness:open.scroll:ended.afterPaintEffectsRun",type:"RESET"})},[ew])});let nM=(0,o.useRef)(!1);eg("immediate",eE,{state:"openness:open.move:ongoing",callback:(0,o.useCallback)(()=>{nM.current=!0,tK.current=t_},[t_])}),ev("immediate",eE,{state:"openness:open.move:ongoing",callback:(0,o.useCallback)(()=>{nM.current=!1,tK.current=()=>{}},[])});let n_=(0,o.useRef)(!1);eg("immediate",eE,{state:"openness:open.swipe:ongoing",callback:(0,o.useCallback)(()=>n_.current=!0,[])}),ev("immediate",eE,{state:"openness:open.swipe:ongoing",callback:(0,o.useCallback)(()=>n_.current=!1,[])}),eg("immediate",eE,{state:"openness:open.swipe:ongoing",callback:(0,o.useCallback)(()=>null==w?void 0:w(),[w])}),eg("immediate",eE,{state:"openness:open.swipe:ongoing",callback:nl,params:{newState:"stepping"}}),eg("immediate",eE,{state:"openness:open.swipe:ended",callback:(0,o.useCallback)(()=>tD(),[tD])}),eg("immediate",eE,{state:"openness:open.swipe:ended",guard:"function"==typeof h,callback:(0,o.useCallback)(()=>{eE.silent.matches("openness:open")&&h("idleInside")},[eE.silent,h])});let nF=(0,o.useCallback)(()=>{!ne.matches("position:front")||0===tG.current[0]&&0===tG.current[1]||tp&&tG.current[0]!==tG.current[1]?!1===et&&(null==en||en(!0)):ew("ACTUALLY_CLOSE")},[ne,ew,et,en,tp]);eh(eE,{state:"openness:open.evaluateCloseMessage:true",transition:"CLOSE",callback:nF}),eh(eE,{state:"openness:open.evaluateCloseMessage:false",transition:"CLOSE",callback:nF}),eh(eE,{state:"openness:open.evaluateStepMessage:true",transition:"STEP",callback:no}),eh(eE,{state:"openness:open.evaluateStepMessage:false",transition:"STEP",callback:no}),eg("immediate",nA,{state:"openness:closing",callback:nl,params:{newState:"exiting"}}),eg("before-paint",nA,{state:"openness:closing",callback:(0,o.useCallback)(()=>{t$.current=0,null==ed||ed(0),tQ({trackToTravelOn:td.track,destinationDetent:0,behavior:"smooth",animationConfig:td,travelEndCallback:()=>ew("NEXT")})},[ed,tQ,td,ew])}),eh(nA,{state:"openness:closing",transition:"NEXT",callback:(0,o.useCallback)(()=>{ex("NEXT"),ew({machine:"staging",type:"NEXT"})},[ex,ew])}),eb("after-paint",eE,{state:"",callback:(0,o.useCallback)(()=>ew({machine:"skipOpening",type:tu.skip?"TO_TRUE":"TO_FALSE"}),[ew,tu.skip])}),eb("after-paint",eE,{state:"",callback:(0,o.useCallback)(()=>ew({machine:"skipClosing",type:td.skip?"TO_TRUE":"TO_FALSE"}),[ew,td.skip])}),(0,o.useEffect)(()=>{void 0!==et&&ew(et?"OPEN":"CLOSE")},[et,ew]);let nB=eY(()=>{t2(),null==eV||eV(ef),es.removeAllOutletPersistedStylesFromSheet(ef)}),nW=(0,o.useRef)(!0),nj=eY(()=>{et&&(null==en||en(!1))});(0,o.useEffect)(()=>()=>{!nW.current&&(nj(),na(null,{newState:"none"}),nB(),ei(!1),nw.silent.matches("longRunning:true")&&(null==eN||eN(e=>e-1)))},[]),(0,o.useEffect)(()=>()=>nW.current=!1),(0,o.useEffect)(()=>{void 0!==eu&&tG.current[0]!==eu&&tG.current[1]!==eu&&t$.current!==eu&&ew({type:"STEP",activeDetent:eu})},[eu,ew]),(0,o.useEffect)(()=>{let e=()=>{var e;return null==(e=e8.current)?void 0:e.scrollTo(0,0)};return window.addEventListener("unload",e),()=>window.removeEventListener("unload",e)},[]);let nV=eY((e,t)=>{tx.current&&!nA.matches("openness:closed")&&tN(e,t)}),nU=eY(t6);(0,o.useEffect)(()=>()=>{nV(0,{start:0,end:0}),tx.current&&nU(),el(null)},[nw.silent,eN,nV,nU]);let nY=v("Sheet",{staging:eI.getValues()[0],openness:nA.getValues()[0],opennessClosedStatus:nx.getValues()[0],position:ne.getValues()[0],positionCoveredStatus:nt.getValues()[0],placement:ti,track:tr,swipeDisabled:tg,swipeOutDisabledWithDetent:th,swipeOvershootDisabled:tf,swipeTrap:tF,scrollContainerShouldBePassThrough:tw}),nX=(0,o.useMemo)(()=>!nx.matches(["openness:closed.status:flushing-to-preparing-open","openness:closed.status:flushing-to-preparing-opening","openness:closed.status:safe-to-unmount"]),[nx]),nH=(0,o.useMemo)(()=>nA.matches("openness:closed")&&nX,[nX,nA]),nG=(0,o.useMemo)(()=>eI.matches(["staging:opening","staging:open"]),[eI]),nz=(0,o.useMemo)(()=>nX||nG,[nX,nG]),n$=(0,o.useMemo)(()=>O&&(ne.matches(["position:front","position:covered"])||"none"!==eT),[O,ne,eT]);return(0,r.jsx)(F,{genericContext:eF,customContext:Q,value:q,children:(0,r.jsx)(eB.Provider,{value:{sheetContext:$,titleId:ek,descriptionId:ey,styleAttributes:nY,backdropRef:e4,scrollContainerRef:e8,frontSpacerRef:e9,contentWrapperRef:e7,contentRef:te,backSpacerRef:tt,detentMarkersRefs:tn,leftEdgeRef:e6,setBackdropSwipeable:tT,setBleedingBackgroundPresent:tE,detents:ta,longRunningState:nw,staging:eT,layerCovered:eO,placement:ti,track:tr,travelAxis:tS,nativeEdgeSwipePrevention:R,bleedingBackgroundPresent:tC,setBackdropTravelHandler:tP,ancestorPrimarySwipeTrapActiveOnYAxis:"vertical"===tF||"both"===tF,scrollContainerTouchStartHandler:nC,scrollContainerTouchEndHandler:nE,getContentCoordinatesWhenRestingOnLastDetent:tY,getOffsetFromCurrentToNextDetent:ny},children:nz&&(0,r.jsxs)("div",{id:ef,...nY("view",["track","staging","openness","opennessClosedStatus","scrollContainerShouldBePassThrough"],{className:i,dataSilk:[c,"0ab",B&&"0ah",tk&&"0aj",nH&&"0ak","0al"]}),ref:e5,"aria-labelledby":ek,"aria-describedby":ey,...z,role:ee,tabIndex:-1,children:[(0,r.jsx)(eM.Root,{...nY("primaryScrollTrapRoot",["track","scrollContainerShouldBePassThrough"]),active:"none"!==tF,axis:tF,children:(0,r.jsx)(eM.Stabiliser,{children:s})}),(0,r.jsx)(eM.Root,{...nY("secondaryScrollTrapRoot",["scrollContainerShouldBePassThrough"]),automaticallyDisabledForOptimisation:!1,preventBodyScroll:n$})]})})})});eZ.displayName="Sheet.Anonymous";class eQ extends o.Component{static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e){console.error(e)}render(){return this.state.hasError?(0,r.jsx)("h1",{children:"Something went wrong."}):this.props.children}constructor(e){super(e),this.state={hasError:!1}}}let e0=o.forwardRef((e,t)=>{let{asChild:n,children:a,className:l,"data-silk":s,...i}=e,o=n?eE:"span",c=v("VisuallyHidden",{});return(0,r.jsx)(o,{...c("root",[],{className:l,dataSilk:[s]}),...i,ref:t,children:a})});e0.displayName="VisuallyHidden.Root";let e1={Root:e0},e2=o.createContext(null);e2.displayName="SheetStack.GenericContext";let e3=[],e5=(e,t)=>{let n=(0,o.useId)(),a=(0,o.useRef)(null),s=eS(a,t),{sheetId:r,stackId:i,sheetsCount:u,travelAnimation:d,stackingAnimation:m,style:p}=e,{sheetId:f,longRunning:g}=e6(r),[h,v]=(0,o.useState)(null),{willChangesValuesString:b,outletTransformedOnAnimation:k,nonAnimatedTravelStyles:S,nonAnimatedStackingStyles:y,clippedToViewport:T}=(0,o.useMemo)(()=>{let e=[],t={},n={},a=!1,l=!1;return[d,m].forEach((s,r)=>{s&&Object.entries(s.hasOwnProperty("properties")?s.properties:s).forEach(([s,i])=>{!i||("clipBoundary"===s&&(l=!0),"string"==typeof i&&(0===r?t[s]=i:n[s]=i),en.includes(s)||"transform"===s?e.includes("transform")||(e.push("transform"),a=!0):"opacity"!==s||e.includes("opacity")||e.push("opacity"))})}),{willChangesValuesString:e.join(", "),outletTransformedOnAnimation:a,nonAnimatedTravelStyles:t,nonAnimatedStackingStyles:n,clippedToViewport:l}},[m,d]),{modifiedTravelAnimation:C,modifiedNonAnimatedTravelStyles:E,modifiedStackingAnimation:w,modifiedNonAnimatedStackingStyles:A}=(0,o.useMemo)(()=>{let e;if(h){let{top:t,bottom:n,left:a,right:l}=h;e=`${t-.1}px ${l}px ${n}px ${a}px`}let t=(t,n)=>{let a,l,s;if(!t)return[];let{top:r,left:i,height:o,width:c}=h||{},u=t.hasOwnProperty("properties")?t.properties:t,d=u.clipBoundary,m=u.clipBorderRadius,p=u.clipTransformOrigin;if(d&&(p||(p="50% 50% 0"),s=p.split(" ").map(e=>"top"===e||"left"===e?"0%":"bottom"===e||"right"===e?"100%":e).map((e,t)=>{if(0===t){let t=e;return e.includes("%")?t=e.replace(/\b\d+%/,e=>parseFloat(e)/100*c+"px"):"0"===e&&(t="0px"),"calc("+i+"px + "+t+")"}if(1===t){let t=e;return e.includes("%")?t=e.replace(/\b\d+%/,e=>parseFloat(e)/100*o+"px"):"0"===e&&(t="0px"),"calc("+r+"px + "+t+")"}}).join(" ")),d)if("layout-viewport"===d)if(e){if("string"==typeof m)a=`inset(${e} round ${m})`;else if(Array.isArray(m)){let t=`inset(${e} round `;a=({tween:e})=>t+e(...m)+")"}else if("function"==typeof m){let t=`inset(${e} round `;a=e=>t+m(e)+")"}else a=`inset(${e})`;l="0.001px"}else l=null!=m?m:null;else if("function"==typeof d)if(e){if("string"==typeof m)a=t=>"none"!==d(t)?`inset(${e} round ${m})`:"none";else if(Array.isArray(m)){let t=`inset(${e} round `;a=e=>"none"!==d(e)?t+e.tween(...m)+")":"none"}else if("function"==typeof m){let t=`inset(${e} round `;a=e=>"none"!==d(e)?t+m(e)+")":"none"}else a=t=>"none"!==d(t)?`inset(${e})`:"none";l="0.001px"}else m&&(l=e=>{if("layout-viewport"===d(e))return m});else"none"===d&&(a="none",l=null!=m?m:null);else{let e={...u},t={...n};return delete e.clipBoundary,delete e.clipBorderRadius,delete e.clipTransformOrigin,delete t.clipBoundary,delete t.clipBorderRadius,delete t.clipTransformOrigin,[e,t]}let f={...u},g={...n};return delete f.clipBoundary,delete f.clipBorderRadius,delete f.clipTransformOrigin,delete g.clipBoundary,delete g.clipBorderRadius,delete g.clipTransformOrigin,"string"==typeof a?g.clipPath=a:f.clipPath=a,"string"==typeof l?g.borderRadius=l:f.borderRadius=l,"string"==typeof s&&(g.transformOrigin=s),[f,g]},[n,a]=t(d,S),[l,s]=t(m,y);return{modifiedTravelAnimation:n,modifiedNonAnimatedTravelStyles:a,modifiedStackingAnimation:l,modifiedNonAnimatedStackingStyles:s}},[h,y,S,m,d]);c(()=>{let e=a.current,t=n&&T&&(!i&&g||i&&u>=1);if(t)return((e,t)=>{let n=()=>{let[n,a]=function(e){let t=0,n=0;for(;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return[t,n]}(e),l={top:a+scrollY,bottom:Math.max(e.offsetHeight-(a+scrollY+innerHeight),0),left:n+scrollX,right:Math.max(e.offsetWidth-(n+scrollX+innerWidth),0),height:innerHeight,width:innerWidth};t(l.top<=0&&l.bottom<=0&&l.left<=0&&l.right<=0?null:l)};e3.push({element:e,callback:n}),n(),1===e3.length&&(l=function(e,t){let n;return function(){clearTimeout(n),n=window.setTimeout(()=>{clearTimeout(n),e()},100)}}(()=>{e3.forEach(e=>e.callback())},0),window.addEventListener("scroll",l),window.addEventListener("resize",l))})(e,v),()=>{t&&((e3=e3.filter(t=>t.element!==e)).length||(window.removeEventListener("scroll",l),window.removeEventListener("resize",l)))}},[n,T,g,i,u]);let x=(0,o.useMemo)(()=>i?{...p,...u>=1?A:{},willChange:u>=1?b+((null==p?void 0:p.willChange)?", "+(null==p?void 0:p.willChange):""):null==p?void 0:p.willChange}:{...p,...g?E:{},...u>=1?A:{},willChange:g?b+((null==p?void 0:p.willChange)?", "+(null==p?void 0:p.willChange):""):null==p?void 0:p.willChange},[i,p,E,A,g,u,b]);return c(()=>{let e,t=es.findActualFixedComponentsInsideOutlet(a.current);if(t.length)return k&&(e=(e=>{let n=()=>{t.forEach(e=>{if(!e.element||e.compensated)return;let t=0,n=0,l=e.element.style.transform,s=window.getComputedStyle(e.element),r=s.getPropertyValue("--silk-fixed-side"),i=s.getPropertyValue("transform");es.updateFixedComponent({id:e.id,initialInlineCSSTransform:l,compensated:!0}),t=r.includes("bottom")?-1*(a.current.offsetHeight-(scrollY+window.innerHeight)):scrollY,n=r.includes("right")?-1*(a.current.offsetWidth-(scrollX+window.innerWidth)):scrollX,(0!==Math.abs(t)||0!==Math.abs(n))&&e.element.style.setProperty("transform",("none"!==i?i+" ":"")+"translateX("+n+"px) translateY("+t+"px)")})},l=()=>{window.removeEventListener("resize",n),window.removeEventListener("scroll",n),t.forEach(e=>{e.element&&e.compensated&&(e.initialInlineCSSTransform?(e.element.style.setProperty("transform",e.initialInlineCSSTransform),es.updateFixedComponent({id:e.id,initialInlineCSSTransform:void 0,compensated:!1})):(e.element.style.removeProperty("transform"),es.updateFixedComponent({id:e.id,compensated:!1})))})};return e?(n(),window.addEventListener("resize",n),window.addEventListener("scroll",n)):l(),l})(i?u>0:g)),e},[g,n,k,u,i]),c(()=>(es.addOutletToSheet(f,n),()=>es.removeOutletFromSheet(f,n)),[n,f]),c(()=>{let e=a.current;return C&&es.addAnimationToSheetOrStack({sheetId:f,type:"travel",element:e,config:C}),w&&es.addAnimationToSheetOrStack({sheetId:i?null:f,stackId:i,type:"stacking",element:e,config:w}),()=>{C&&es.removeAnimationFromSheetOrStack({sheetId:f,type:"travel",element:e}),w&&es.removeAnimationFromSheetOrStack({sheetId:i?null:f,stackId:i,type:"stacking",element:e})}},[f,i,C,w]),{ref:a,outletId:n,styleValue:x,composedRef:s}},e6=e=>(0,o.useContext)(null!=e?e:eF)||{};eQ.displayName="Sheet.ErrorBoundary",eE.displayName="Sheet.Slot.Root";let e4=o.forwardRef((e,t)=>{let{asChild:n,forComponent:a,travelAnimation:l,stackingAnimation:s,style:i,className:c,...u}=e,{staging:d,StackContext:m}=e6(a),p=null!=m?m:o.createContext(null),{sheetsCount:f}=(0,o.useContext)(p)||{},{styleValue:g,composedRef:h}=e5({sheetId:a,sheetsCount:f,travelAnimation:l,stackingAnimation:s,style:i},t),b=(0,o.useMemo)(()=>"none"!==d,[d]),k=n?eE:"div",S=v("Sheet",{});return(0,r.jsx)(k,{style:g,...S("outlet",[],{className:c,dataSilk:[b&&"0aj"]}),...u,ref:h})});e4.displayName="Sheet.Outlet";let e8=o.forwardRef(({asChild:e,...t},n)=>{let a=e?eE:"button",{forComponent:l,className:s,"data-silk":i,onPress:c,onClick:u,children:d,action:m="present",travelAnimation:p,stackingAnimation:f,...g}=t,{sheetRole:h,sheetId:b,open:k,onOpenChange:S,elementFocusedLastBeforeShowing:y}=e6(l),T=es.findSheet(b),C=(0,o.useRef)(null),E=eS(C,n),w=(0,o.useMemo)(()=>("dialog"===h||"alertdialog"===h)&&"present"===m?"dialog":void 0,[m,h]),A=(0,o.useMemo)(()=>"present"===m||"dismiss"===m?k:void 0,[m,k]),x=v("Sheet",{});return(0,r.jsx)(e4,{forComponent:l,asChild:!0,travelAnimation:p,stackingAnimation:f,children:(0,r.jsx)(a,{...x("trigger",[],{className:s,dataSilk:[i]}),onClick:e=>{var t,n;let{forceFocus:a,runAction:l}=D({nativeEvent:e,defaultBehavior:{forceFocus:!0,runAction:!0},handler:c});a&&(null==(t=C.current)||t.focus({preventScroll:!0})),l&&("present"===m?(y.current=C.current,S(!0)):"dismiss"===m?S(!1):("step"===m||"step"===m.type)&&(null==T||null==(n=T.sendToOpennessMachine)||n.call(T,{type:"STEP",direction:"step"===m?"up":m.direction,detent:"step"===m?null:m.detent}))),null==u||u(e)},"aria-haspopup":w,"aria-controls":b,"aria-expanded":A,ref:E,...g,children:d})})});e8.displayName="Sheet.Trigger";let e9=o.forwardRef((e,t)=>{let{children:n,className:a,action:l="step",...s}=e,{detents:i}=(0,o.useContext)(eB)||{},c=1===i.length&&"dismiss"!==l,u=v("Sheet",{});return(0,r.jsx)(e8,{...u("handle",[],{className:a}),action:l,disabled:c,...s,ref:t,children:(0,r.jsx)(e1.Root,{children:null!=n?n:"dismiss"===l?"Dismiss":"Cycle"})})});e9.displayName="Sheet.Handle";let e7=e=>{var t;let[n,a]=(0,o.useState)(!1);return(0,o.useEffect)(()=>(a(!0),()=>a(!1)),[]),n?i.createPortal(e.children,null!=(t=e.container)?t:document.body):null};e7.displayName="Sheet.Portal";let te=({rootRef:e})=>((0,o.useEffect)(()=>{let t=e.current;t&&"1"!==getComputedStyle(t).getPropertyValue("--silk-aY").trim()&&console.warn("The CSS styles for Silk are not found. Please refer to the documentation on how to import them.")},[e]),null),tt=o.forwardRef((e,t)=>{let{className:n,"data-silk":a,license:l,sheetRole:s,componentId:i,forComponent:c,defaultPresented:u,presented:d,onPresentedChange:m,defaultActiveDetent:p,activeDetent:f,onActiveDetentChange:g,onSafeToUnmountChange:h,...b}=e,k=(0,o.useRef)(null),S=eS(k,t),y=null!=u&&u,[T,C]=(0,o.useState)(y),E=void 0!==d&&void 0!==m,w=(0,o.useMemo)(()=>E?d:T,[E,d,T]),A=(0,o.useMemo)(()=>E?m:C,[E,m,C]),x=(0,o.useRef)(null),[O,R]=(0,o.useState)(!y),P=(0,o.useCallback)(e=>{null==h||h(e),R(e)},[h]),[I,D]=(0,o.useState)(w),[N,L]=(0,o.useState)("none"),M={license:l,StackContext:"closest"===c?e2:c,CustomSheetContext:i,sheetId:eC(),sheetRole:s,open:w,onOpenChange:A,onSafeToUnmountChange:P,defaultActiveDetent:p,activeDetent:f,onActiveDetentChange:g,safeToUnmount:O,longRunning:I,setLongRunning:D,staging:N,setStaging:L,elementFocusedLastBeforeShowing:x,...b},_=v("Sheet");return(0,r.jsxs)(eQ,{children:[(0,r.jsx)(te,{rootRef:k}),(0,r.jsx)(F,{genericContext:eF,customContext:i,value:M,children:(0,r.jsx)(e4,{..._("root",[],{className:n,dataSilk:[a]}),ref:S,...b})})]})});tt.displayName="Sheet.Root";let tn=o.forwardRef((e,t)=>{let{forComponent:n}=e,{open:a,safeToUnmount:l}=e6(n);return(a||!l)&&(0,r.jsx)(eZ,{...e,ref:t})});tn.displayName="Sheet.View";let ta=o.forwardRef(({asChild:e,swipeable:t=!0,...n},a)=>{let{longRunningState:l,backdropRef:s,styleAttributes:i,setBackdropSwipeable:u,setBackdropTravelHandler:d}=(0,o.useContext)(eB)||{},{className:p,"data-silk":f,children:g,travelAnimation:h,stackingAnimation:v,themeColorDimming:b=!1,...k}=n,S=eS(s,a);(0,o.useEffect)(()=>(u(t),()=>{u(!1)}),[u,t]);let y=(0,o.useMemo)(()=>({opacity:({progress:e})=>Math.min(.33*e,.33),...h}),[h]),[T,C]=(0,o.useState)(y),E=eC(),w=(0,o.useRef)(0);return c(()=>{let e=!1,t=()=>{e&&es.removeThemeColorDimmingOverlay(E)};if(l.matches("longRunning:true")){let t;if(!(e=!!("webkit"===m&&!(()=>{var e,t,n;return"undefined"!=typeof window&&window.navigator.standalone&&(null==(e=document.querySelector("meta[name='viewport']"))?void 0:e.content.includes("viewport-fit=cover"))&&(null==(t=document.querySelector("meta[name='apple-mobile-web-app-capable']"))?void 0:t.content)==="yes"&&(null==(n=document.querySelector("meta[name='apple-mobile-web-app-status-bar-style']"))?void 0:n.content)==="black-translucent"})()&&"auto"===b&&y.opacity&&es.getAndStoreUnderlyingThemeColorAsRGBArray())))return;let{opacity:n,...a}=y;if(C({opacity:"ignore",...a}),Array.isArray(n)){let[e,a]=n;t=({progress:t})=>e+(a-e)*t}else"function"==typeof n&&(t=n,C({opacity:"ignore",...a}));if(t&&s&&d){let e=window.getComputedStyle(s.current).backgroundColor,n=es.updateThemeColorDimmingOverlay({abortRemoval:!0,dimmingOverlayId:E,color:e,alpha:w.current}),a=e=>{var a;let l=t(e);es.updateThemeColorDimmingOverlayAlphaValue(n,l),null==(a=s.current)||a.style.setProperty("opacity",l),w.current=l};d(()=>a)}}return l.matches("longRunning:false")&&t(),()=>{t()}},[l,E,s,d,b,h,y]),(0,r.jsx)(e4,{...i("backdrop",["scrollContainerShouldBePassThrough"],{className:p,dataSilk:[f]}),travelAnimation:T,stackingAnimation:v,...k,ref:S,asChild:e,children:g})});ta.displayName="Sheet.Backdrop";let tl=o.forwardRef((e,t)=>{var n;let{asChild:a,children:l,className:s,"data-silk":i,travelAnimation:c,stackingAnimation:u,style:d,...m}=e,p=a?eE:"div",{StackContext:f}=(0,o.useContext)(eF)||{},g=null!=f?f:o.createContext(null),{sheetsCount:h}=(0,o.useContext)(g)||{},{styleValue:v,composedRef:b}=e5({sheetId:eF,sheetsCount:h,travelAnimation:c,stackingAnimation:u,style:d},t),{scrollContainerRef:k,frontSpacerRef:S,contentWrapperRef:y,contentRef:T,backSpacerRef:C,detentMarkersRefs:E,leftEdgeRef:w,nativeEdgeSwipePrevention:A,scrollContainerTouchStartHandler:x,scrollContainerTouchEndHandler:O,styleAttributes:R,detents:P,bleedingBackgroundPresent:I}=(0,o.useContext)(eB)||{},D=eS(T,b);return(0,r.jsxs)("div",{...R("scrollContainer",["track","swipeDisabled","swipeOvershootDisabled","staging","positionCoveredStatus","scrollContainerShouldBePassThrough","swipeTrap"],{dataSilk:["0ac"]}),ref:k,onTouchStart:x,onTouchEnd:O,children:[(0,r.jsx)("div",{...R("frontSpacer",["track"]),ref:S}),(0,r.jsxs)("div",{...R("contentWrapper",["placement","track","swipeOvershootDisabled","swipeOutDisabledWithDetent","staging","position"]),ref:y,children:[(0,r.jsx)(p,{...R("content",["track","placement","scrollContainerShouldBePassThrough"],{className:s,dataSilk:[i,I&&"0af"]}),style:v,...m,ref:D,children:l}),A&&(0,r.jsx)("div",{...R("leftEdge",["track"]),ref:w})]}),(0,r.jsx)("div",{...R("backSpacer",["track"]),ref:C,children:P.map((e,t)=>(0,r.jsx)("div",{ref:e=>{E.current.length>P.length&&(E.current=E.current.slice(0,P.length)),E.current[t]=e},...R("detentMarker",["track","swipeOutDisabledWithDetent"]),style:{"--silk-aA":null!=(n=P[t-1])?n:"0px","--silk-aB":e,"--silk-aC":t}},t))})]})});tl.displayName="Sheet.Content";let ts=o.forwardRef(({asChild:e,...t},n)=>{let{className:a,"data-silk":l,...s}=t,{staging:i,placement:c,track:u,setBleedingBackgroundPresent:d}=(0,o.useContext)(eB)||{};(0,o.useEffect)(()=>(d(!0),()=>{d(!1)}),[d]);let m=v("Sheet",{staging:i,placement:c,track:u,bleedDisabled:"horizontal"===u||"vertical"===u});return(0,r.jsx)(e4,{asChild:e,...m("bleedingBackground",["staging","placement","track","bleedDisabled"],{className:a,dataSilk:[l]}),...s,ref:n})});ts.displayName="Sheet.BleedingBackground";let tr=o.forwardRef((e,t)=>{let{className:n,"data-silk":a,...l}=e,{travelAxis:s}=(0,o.useContext)(eB)||{},i=(0,o.useMemo)(()=>"vertical"===s?"horizontal":"vertical",[s]),[c,u]=(0,o.useState)(!1);(0,o.useEffect)(()=>u("webkit"===m),[]);let d=v("SpecialWrapper");return(0,r.jsx)(eM.Root,{...d("root",[],{className:n,dataSilk:[a]}),active:c,axis:i,...l,ref:t})});tr.displayName="Sheet.SpecialWrapper.Root";let ti=o.forwardRef((e,t)=>(0,r.jsx)(eM.Stabiliser,{...e,ref:t}));ti.displayName="Sheet.SpecialWrapper.Content";let to=o.forwardRef((e,t)=>{let{asChild:n,travelAnimation:a,stackingAnimation:l,...s}=e,i=n?eE:"h2",{titleId:c}=(0,o.useContext)(eB);return(0,r.jsx)(e4,{asChild:!0,travelAnimation:a,stackingAnimation:l,children:(0,r.jsx)(i,{id:c,ref:t,...s})})});to.displayName="Sheet.Title";let tc=o.forwardRef((e,t)=>{let{asChild:n,travelAnimation:a,stackingAnimation:l,...s}=e,{descriptionId:i}=(0,o.useContext)(eB),c=n?eE:"p";return(0,r.jsx)(e4,{asChild:!0,travelAnimation:a,stackingAnimation:l,children:(0,r.jsx)(c,{id:i,...s,ref:t})})});tc.displayName="Sheet.Description";let tu={Root:tt,Trigger:e8,View:tn,Backdrop:ta,Content:tl,BleedingBackground:ts,Handle:e9,SpecialWrapper:{Root:tr,Content:ti},Outlet:e4,Portal:e7,Title:to,Description:tc};eQ.displayName="SheetStack.ErrorBoundary";let td=o.forwardRef((e,t)=>{let{componentId:n,className:a,"data-silk":l,asChild:s,...i}=e,u=(0,o.useId)();c(()=>(es.addSheetStack({id:u}),()=>es.removeSheetStack(u)),[u]);let[d,m]=(0,o.useState)([]),p=(0,o.useCallback)(e=>{m(t=>{let n,a=t.findIndex(t=>t.sheetId===e.sheetId);return -1!==a?(n=[...t])[a]=e:n=[...t,e],n})},[]),f=(0,o.useCallback)(e=>{m(t=>t.filter(t=>t.sheetId!==e))},[]),g=(0,o.useCallback)(e=>{let t=d.findIndex(t=>t.sheetId===e);return -1===t?d[d.length-1]:d[t-1]},[d]),[h,b]=(0,o.useState)(0);c(()=>{0===h&&es.removeAllOutletPersistedStylesFromStack(u)},[h,u]);let[k,S]=(0,o.useState)([]),y=(0,o.useCallback)(e=>{S(t=>{let n=t.findIndex(t=>t.sheetId===e.sheetId);if(-1===n)return[...t,e];{let a=[...t];return a[n]=e,a}})},[]),T=(0,o.useCallback)(e=>{S(t=>t.filter(t=>t.sheetId!==e))},[]),C=(0,o.useMemo)(()=>k.some(e=>"none"!==e.staging)?"not-none":"none",[k]),E=(0,o.useMemo)(()=>({stackId:u,sheetsCount:h,setSheetsCount:b,updateSheetStagingDataInStack:y,removeSheetStagingDataInStack:T,sheetsInStackMergedStaging:C,updateSheetDataInStack:p,removeSheetDataFromStack:f,getPreviousSheetDataInStack:g}),[u,h,y,T,C,p,f,g]),w=s?eE:"div",A=v("SheetStack");return(0,r.jsx)(eQ,{children:(0,r.jsx)(F,{genericContext:e2,customContext:n,value:E,children:(0,r.jsx)(w,{...A("root",[],{className:a,dataSilk:[l]}),ref:t,...i})})})});td.displayName="SheetStack.Root";let tm=o.forwardRef((e,t)=>{let{forComponent:n="closest",asChild:a,stackingAnimation:l,style:s,className:i,...u}=e,d="closest"===n?e2:n,{stackId:m,sheetsCount:p,sheetsInStackMergedStaging:f}=(0,o.useContext)(d);c(()=>{es.addSheetStack({id:m})},[m]);let{styleValue:g,composedRef:h}=e5({sheetsCount:p,stackId:m,stackingAnimation:l,style:s},t),b=(0,o.useMemo)(()=>"none"!==f,[f]),k=v("SheetStack",{}),S=a?eE:"div";return(0,r.jsx)(S,{style:g,...k("outlet",[],{className:i,dataSilk:[b&&"0aj"]}),...u,ref:h})});tm.displayName="SheetStack.Outlet";let tp={Root:td,Outlet:tm},tf=o.createContext(null);tf.displayName="Scroll.GenericContext";let tg=o.createContext({contentRef:null});tg.displayName="Scroll.Anonymous";let th=e=>(0,o.useContext)(null!=e?e:tf)||{},tv="android"===p?102:54,tb=P||"android"===p?"instant":"smooth",tk=e=>{if(!e)return{top:0,bottom:0};let t=e.getBoundingClientRect(),n=window.getComputedStyle(e);return{top:t.top+parseFloat(n.borderTopWidth),bottom:t.bottom-parseFloat(n.borderBottomWidth)}},tS=()=>{let e=window.visualViewport.height,t=window.visualViewport.offsetTop;return{top:t,bottom:t+e}},ty=(e,t,n)=>{e.style.setProperty("height",t+"px"),n.current=t};eQ.displayName="Scroll.ErrorBoundary";let tT=o.forwardRef((e,t)=>{let{asChild:n,className:a,componentId:l,componentRef:s,"data-silk":i,...c}=e,u=n?eE:"div",d=(0,o.useRef)(()=>{}),m=(0,o.useCallback)((...e)=>(0,d.current)(...e),[]),p=(0,o.useRef)(()=>{}),f=(0,o.useCallback)((...e)=>(0,p.current)(...e),[]),g=(0,o.useMemo)(()=>({componentRef:s,scrollToRef:d,scrollTo:m,scrollByRef:p,scrollBy:f}),[s,f,m]),h=v("Scroll",{});return(0,r.jsx)(eQ,{children:(0,r.jsx)(F,{genericContext:tf,customContext:l,value:g,children:(0,r.jsx)(u,{...h("root",[],{className:a,dataSilk:[i]}),...c,ref:t})})})});tT.displayName="Scroll.Root";let tC=null,tE=()=>{let e=(0,o.useRef)(null);c(()=>{null===tC&&e.current&&(tC=e.current.offsetWidth-e.current.clientWidth,document.body.style.setProperty("--ua-scrollbar-thickness",tC+"px"))},[]);let t=v("Scroll"),n=(0,r.jsx)("div",{...t("UAScrollbarMeasurer"),ref:e});return null===tC?"undefined"!=typeof window?i.createPortal(n,document.body):(0,r.jsx)(r.Fragment,{children:n}):null};tE.displayName="Scroll.Anonymous";let tw=(e,t,n,a=!1)=>"boolean"==typeof e?e:"boolean"==typeof(null==e?void 0:e[t])?e[t]:"boolean"==typeof(null==e?void 0:e[n])?e[n]:a,tA=o.forwardRef((e,t)=>{let{asChild:n,children:a,className:l,"data-silk":s,forComponent:i,axis:u="y",pageScroll:d=!1,nativePageScrollReplacement:m=!1,safeArea:f="visual-viewport",scrollGestureTrap:g=!1,scrollGestureOvershoot:h=!0,scrollGesture:b="auto",onScrollStart:k,onScroll:S,onScrollEnd:y,onFocusInside:T,nativeFocusScrollPrevention:C=!0,scrollAnimationSettings:E={skip:"auto"},scrollAnchoring:w=!0,scrollSnapType:x="none",scrollPadding:R="auto",scrollTimelineName:N="none",nativeScrollbar:L=!0,...F}=e,[B,W,j,V]=(0,o.useMemo)(()=>{let e=tw(g,"xStart","x"),t=tw(g,"xEnd","x"),n=tw(g,"yStart","y"),a=tw(g,"yEnd","y"),l=e,s=t,r=n,i=a;return"y"===u?s=l=e!==t||e:i=r=n!==a||n,[l,s,r,i]},[g,u]),U=(0,o.useMemo)(()=>B!==W,[W,B]),Y=(0,o.useMemo)(()=>j!==V,[V,j]),X=(0,o.useMemo)(()=>{if("proximity"===x){if("y"===u)return"proximityY";if("x"===u)return"proximityX"}else{if("mandatory"!==x)return"none";if("y"===u)return"mandatoryY";if("x"===u)return"mandatoryX"}},[u,x]),H=n?eE:"div",G=eS((0,o.useRef)(null),t),z=(0,o.useRef)(null),$=(0,o.useRef)(null),K=(0,o.useRef)(null),q=(0,o.useRef)(null),J=(0,o.useRef)(null),Z=(0,o.useRef)(null),Q=eC(),{componentRef:ee,scrollToRef:et,scrollByRef:en}=th(i)||{},{getContentCoordinatesWhenRestingOnLastDetent:ea,contentRef:el}=(0,o.useContext)(eB)||{},er=(0,o.useMemo)(()=>!1===b||"auto"!==b,[b]),[ei,eo]=(0,o.useState)(!1),[ec,eu]=(0,o.useState)(!1);c(()=>{d&&(e=>{let t="data-silk-native-page-scroll-replaced",n=document.documentElement.getAttribute(t);if(!d&&"true"!==n)return;let a=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone,l="android"===p||"ios"===p||"ipados"===p;if(!0!==e&&("auto"!==e||l&&!a)){var s,r;eu(!1),document.body;let e=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(e),"false"===n)return;let a=null!=(r=null==(s=z.current)?void 0:s.scrollTop)?r:0;document.documentElement.setAttribute(t,"false"),"true"===n&&window.scrollTo(0,a)}else{eu(!0),z.current;let e=new Event("silk-page-scroll-data-change");if(document.dispatchEvent(e),"true"===n)return;let a=window.pageYOffset;if(document.documentElement.setAttribute(t,"true"),!z.current)return;z.current.scrollTop=a}})(m)},[d,m]);let[ed,em]=(0,o.useState)(!0),[ep,ef]=(0,o.useState)(!0);c(()=>{let e=z.current,t=$.current,n=K.current,a=q.current,l=new ResizeObserver(()=>{e&&("y"===u&&e.scrollHeight>e.clientHeight?em(!0):em(!1),"x"===u&&e.scrollWidth>e.clientWidth?ef(!0):ef(!1))});return e&&t&&n&&a&&(l.observe(e,{box:"border-box"}),l.observe(t,{box:"border-box"}),l.observe(n,{box:"border-box"}),l.observe(a,{box:"border-box"})),()=>{l&&l.disconnect()}},[u,er]);let[eg,eh]=(0,o.useState)(!1);c(()=>{ed||ep?eh(!0):eh(()=>!1)},[ed,ep]);let[ev,eb]=(0,o.useState)(!1);(0,o.useEffect)(()=>{eb(_())},[]);let ek=(0,o.useRef)(!1),ey=(0,o.useRef)(!1),eT=U||Y,[ew,eA]=(0,o.useState)(B),[ex,eO]=(0,o.useState)(j);(0,o.useEffect)(()=>{let e;if(eT){let t=J.current,n=Z.current;if(!t||!n)return;(e=new IntersectionObserver(e=>{for(let a of e)a.target===t?a.isIntersecting?(ek.current=!0,"x"===u?eA(B):eO(j)):ek.current=!1:a.target===n&&(a.isIntersecting?(ey.current=!0,"x"===u?eA(W):eO(V)):ey.current=!1),ek.current&&ey.current&&("x"===u?eA(!1):eO(!1))},{root:z.current,rootMargin:"0px",threshold:[1]})).observe(t),e.observe(n)}return()=>{e&&e.disconnect()}},[W,B,V,j,u,eT]);let eR=(0,o.useRef)(!1),eP=(0,o.useRef)(),eI=(0,o.useRef)(""),eD=(0,o.useRef)(void 0);(0,o.useEffect)(()=>{let e=z.current;if(!e)return;let t=e=>{ez.current=!1,D({nativeEvent:e,defaultBehavior:{},handler:y});let t=document.activeElement;("ios"==p||"ipados"==p)&&t&&O(t)&&(void 0===eD.current&&(eI.current=t.style.getPropertyValue("opacity"),t.style.setProperty("opacity","0.9999","important")),clearTimeout(eD.current),eD.current=void 0,eD.current=setTimeout(()=>{""===eI.current?t.style.removeProperty("opacity"):t.style.setProperty("opacity",eI.current),eD.current=void 0},55))},n=n=>{if(!eR.current){let{dismissKeyboard:t}=D({nativeEvent:n,defaultBehavior:{dismissKeyboard:!1},handler:k});t&&!eR.current&&!ez.current&&I()&&e.focus({preventScroll:!0})}clearTimeout(eP.current),eP.current=setTimeout(()=>{eR.current=!1,eo(!1),"onscrollend"in window||t(null)},90),eR.current=!0,eo(!0)};return e.addEventListener("scroll",n),"onscrollend"in window&&e.addEventListener("scrollend",t),()=>{e.removeEventListener("scroll",n),"onscrollend"in window&&e.removeEventListener("scrollend",t)}},[y,k]),(0,o.useEffect)(()=>(C&&es.addNativeFocusScrollPreventer(Q),()=>{C&&es.removeNativeFocusScrollPreventer(Q)}),[C,Q]);let eN=(0,o.useMemo)(()=>d&&!ec,[ec,d]),eL=(0,o.useMemo)(()=>"y"===u?eN?()=>window.scrollY:()=>{var e;return null==(e=z.current)?void 0:e.scrollTop}:eN?()=>window.scrollX:()=>{var e;return null==(e=z.current)?void 0:e.scrollLeft},[u,eN]),eM=(0,o.useMemo)(()=>"y"===u?eN?()=>document.body.scrollHeight-window.innerHeight:()=>{let e=z.current;return(null==e?void 0:e.scrollHeight)-(null==e?void 0:e.offsetHeight)}:eN?()=>document.body.scrollWidth-window.innerWidth:()=>{let e=z.current;return(null==e?void 0:e.scrollWidth)-(null==e?void 0:e.offsetWidth)},[u,eN]),e_=(0,o.useCallback)(()=>eL()/eM(),[eL,eM]),eF=(0,o.useCallback)(e=>{null==S||S({progress:e_(),distance:eL(),availableDistance:eM(),nativeEvent:e})},[e_,eL,eM,S]);(0,o.useEffect)(()=>(eN&&S&&document.addEventListener("scroll",eF),()=>{eN&&S&&document.removeEventListener("scroll",eF)}),[eN,S,eF]);let eW=(0,o.useCallback)((e,{progress:t,distance:n,animationSettings:a={skip:"default"}})=>{let l=null!=n?n:(null!=t?t:NaN)*eM();if(isNaN(l))return;let s=null==a?void 0:a.skip,r=eN?window:z.current;null==r||r["to"===e?"scrollTo":"scrollBy"]({["y"===u?"top":"left"]:l,behavior:!0===s?"instant":!1===s?"smooth":"default"===s?"auto":P?"instant":"smooth"})},[u,eM,eN]),ej=(0,o.useCallback)(e=>eW("to",e),[eW]),eV=(0,o.useCallback)(e=>eW("by",e),[eW]);(0,o.useEffect)(()=>{et.current=ej,en.current=eV},[eV,en,ej,et]),(0,o.useImperativeHandle)(ee,()=>({getProgress:e_,getDistance:eL,getAvailableDistance:eM,scrollTo:ej,scrollBy:eV}),[eM,eL,e_,ej,eV]);let eU=(0,o.useRef)(!1),eY=(0,o.useRef)(),eX=(0,o.useRef)(),eH=(0,o.useRef)(0),eG=(0,o.useRef)(0),ez=(0,o.useRef)(!1),e$=(0,o.useCallback)(({scrollIntoPlace:e=!0,scrollBehavior:t,safeViewport:n="visual-viewport"})=>{let a,l;if(!z.current||!$.current||!q.current||!K.current||"y"!==u||"none"===n||(null==el?void 0:el.current)&&null===ea().top||!(null==el?void 0:el.current)&&ea)return;if(null==el?void 0:el.current){let{top:e,bottom:t}=tk(z.current),n=el.current.getBoundingClientRect(),s=n.top,r=n.bottom;a=ea().top+(e-s),l=ea().bottom-(r-t)}else{let{top:e,bottom:t}=tk(z.current);a=e,l=t}let{top:s,bottom:r}=tS(),i=Math.min(l,"visual-viewport"===n?r:window.innerHeight),o=Math.abs(Math.min(a+("visual-viewport"===n?s:0),0)),c=Math.max(l-("visual-viewport"===n?r:window.innerHeight),0);if(1>Math.abs(eH.current-o)&&1>Math.abs(eG.current-c))return;let d=-1*(i-q.current.getBoundingClientRect().top),m=z.current.offsetHeight-$.current.offsetHeight>=0,p=()=>{ty(K.current,o,eH),ty(q.current,c,eG)};if("smooth"===t&&(d<0||m)?e&&(ez.current=!0,m?z.current.scrollTo({top:0,behavior:t}):z.current.scrollBy({top:d,behavior:t}),eG.current=c,((e,t,n=300)=>{let a,l=e.scrollTop,s=()=>{clearTimeout(a),e.removeEventListener("scroll",r),t()},r=()=>{let t=e.scrollTop;if(t>l)return void s();l=t,clearTimeout(a),a=setTimeout(s,n)};a=setTimeout(s,n),e.addEventListener("scroll",r)})(z.current,()=>{z.current&&m&&z.current.scrollTo({top:0,behavior:"instant"}),p()})):p(),!e)return{spacersHeightSetter:p,verticalScrollOffsetRequired:d}},[u,ea,el]),eK=(0,o.useCallback)(()=>e$({scrollBehavior:tb,safeViewport:f}),[f,e$]);c(()=>{eK()},[eK]),(0,o.useEffect)(()=>{let e=z.current,t=t=>{clearTimeout(eY.current),clearTimeout(eX.current);let n=t.target;if(n===e)return;let{scrollIntoView:a}=D({nativeEvent:t,defaultBehavior:{scrollIntoView:!0},handler:T});if(!O(n)||A(n))return;let l=n.getBoundingClientRect().top-0,s=n.getBoundingClientRect().bottom-0,{top:r,bottom:i}=tk(z.current),o=r-0,c=i-0,u=()=>{if(clearTimeout(eY.current),clearTimeout(eX.current),!I())return;eU.current=!0;let{top:e,bottom:t}=tS(),{spacersHeightSetter:n=()=>{}}=e$({scrollIntoPlace:!1,scrollBehavior:"smooth",safeViewport:f})||{};n(),a&&(({scrollContainer:e,elementTop:t,elementBottom:n,behavior:a,scrollMarginTop:l,scrollMarginBottom:s,scrollPortTop:r,scrollPortBottom:i,visualViewportTop:o,visualViewportBottom:c,beforeScrollCallback:u})=>{if(!e)return;let d=t-Math.max(r,o),m=Math.min(i,c)-n;if(d<l){let t=Math.max(-e.scrollTop,d-l);0!==t&&(u(),e.scrollBy({top:t,behavior:a}))}else if(m<s){let t=Math.min(e.scrollHeight-e.clientHeight-e.scrollTop,s-m);0!==t&&(u(),e.scrollBy({top:t,behavior:a}))}})({scrollContainer:z.current,behavior:tb,scrollMarginTop:64,scrollMarginBottom:tv,elementTop:l,elementBottom:s,scrollPortTop:o,scrollPortBottom:c,visualViewportTop:e,visualViewportBottom:t,beforeScrollCallback:()=>ez.current=!0}),visualViewport.removeEventListener("resize",u)};eU.current?(u(),visualViewport.addEventListener("resize",u),eY.current=setTimeout(()=>{visualViewport.removeEventListener("resize",u)},900)):(visualViewport.addEventListener("resize",u),eX.current=setTimeout(()=>{visualViewport.removeEventListener("resize",u),u()},900))},n=e=>{let t=e.target;!O(t)||A(t)||O(e.relatedTarget)||(eU.current=!1,e$({scrollBehavior:tb,safeViewport:"none"===f?"none":"layout-viewport"}))},a=()=>{var e;null==(e=z.current)||e.removeEventListener("scroll",eK),setTimeout(()=>{eK(),setTimeout(()=>{var e;null==(e=z.current)||e.addEventListener("scroll",eK,{once:!0})},200)},1),setTimeout(()=>eK,350)};return null==e||e.addEventListener("focus",t,{capture:!0}),null==e||e.addEventListener("blur",n,{capture:!0}),visualViewport.addEventListener("resize",a),null==e||e.addEventListener("scroll",eK,{once:!0}),()=>{null==e||e.removeEventListener("focus",t,{capture:!0}),null==e||e.removeEventListener("blur",n,{capture:!0}),visualViewport.removeEventListener("resize",a),null==e||e.removeEventListener("scroll",eK)}},[T,f,e$,eK]);let eq=M(z),eJ=(0,o.useMemo)(()=>d&&!ec,[ec,d]),eZ=v("Scroll",{axis:u,scrollTrapX:ew,scrollTrapY:!ev&&ex||eq&&!eJ,scrollGestureOvershoot:h,scrollDisabled:er,pageScroll:d,nativePageScrollReplacement:m,overflowX:ep,overflowY:ed,skipScrollAnimation:null==E?void 0:E.skip,scrollAnchoring:w,scrollSnapType:X,nativeScrollbar:L,scrollOngoing:ei});return(0,r.jsxs)(tg.Provider,{value:{contentRef:$,axis:u,styleAttributes:eZ,nativeFocusScrollPrevention:C,swipeTrapIncapable:eJ,focusable:eg,pageScroll:d,nativePageScrollReplacement:m,scrollContainerRef:z,swipeTrapObserverRequired:eT,startScrollSpyRef:J,endScrollSpyRef:Z,startSpacerRef:K,endSpacerRef:q,scrollHandler:eF,scrollPadding:R,scrollTimelineName:N},children:[d&&!0!==m&&(0,r.jsx)("style",{dangerouslySetInnerHTML:{__html:`
                            html[data-silk-native-page-scroll-replaced="false"] > body {
                                scroll-padding: ${R};
                                scroll-timeline-axis: ${N} ${u};
                            }
                        `}}),d&&!0===m&&(0,r.jsx)("script",{id:"silk-scroll-nativePageScrollReplacement-true",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "true");
                        `}}),d&&!1===m&&(0,r.jsx)("script",{id:"silk-scroll-nativePageScrollReplacement-false",dangerouslySetInnerHTML:{__html:`
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", "false");
                        `}}),d&&"auto"===m&&(0,r.jsx)("script",{id:"silk-scroll-nativePageScrollReplacement-auto",dangerouslySetInnerHTML:{__html:`
                            const standalone =
                                window.matchMedia('(display-mode: standalone)').matches || window.navigator.standalone;
                            const mobile = window.navigator.userAgent?.match(/android|iPhone|iPad/i);

                            document.documentElement.setAttribute("data-standalone", !!standalone);
                            document.documentElement.setAttribute("data-silk-native-page-scroll-replaced", !(mobile && !standalone));
                        `}}),(0,r.jsx)(tE,{}),(0,r.jsx)(H,{...eZ("view",["axis","pageScroll","skipScrollAnimation","scrollOngoing"],{className:l,dataSilk:[s]}),...F,ref:G,children:a})]})});tA.displayName="Scroll.View";let tx=o.forwardRef(({side:e,...t},n)=>{let{axis:a}=(0,o.useContext)(tg)||{},l=v("Scroll",{side:e,axis:a});return(0,r.jsx)("div",{...l("spy",["side","axis"]),ref:n,...t})});tx.displayName="Scroll.Anonymous";let tO=o.forwardRef((e,t)=>{let{asChild:n,className:a,"data-silk":l,...s}=e,i=n?eE:"div",{contentRef:c,styleAttributes:u,nativeFocusScrollPrevention:d,swipeTrapIncapable:m,focusable:p,axis:f,pageScroll:g,nativePageScrollReplacement:h,scrollContainerRef:v,swipeTrapObserverRequired:b,startScrollSpyRef:k,endScrollSpyRef:S,startSpacerRef:y,endSpacerRef:T,scrollHandler:C,scrollPadding:E,scrollTimelineName:w}=(0,o.useContext)(tg)||{},A=eS(c,t);return(0,r.jsxs)("div",{...u("scrollContainer",["axis","pageScroll","scrollTrapX","scrollTrapY","scrollGestureOvershoot","scrollDisabled","overflowX","overflowY","skipScrollAnimation","scrollAnchoring","scrollSnapType","nativeScrollbar"],{dataSilk:[l,"0ad",d&&"0ah",m&&"0ai"]}),style:{scrollPadding:E,scrollTimeline:w+" "+f},tabIndex:p?0:d?-1:void 0,role:g&&!h?void 0:"region",onScroll:C,ref:v,children:[b&&(0,r.jsx)(tx,{side:"start",ref:k}),"y"===f&&(0,r.jsx)("div",{ref:y,...u("startSpacer",["axis","pageScroll"])}),(0,r.jsx)(i,{...u("content",["axis","scrollTrapX","scrollTrapY","overflowX","overflowY"],{className:a,dataSilk:[l]}),...s,ref:A}),"y"===f&&(0,r.jsx)("div",{ref:T,...u("endSpacer",["axis","pageScroll"])}),b&&(0,r.jsx)(tx,{side:"end",ref:S})]})});tO.displayName="Scroll.Content";let tR=o.forwardRef(({asChild:e,...t},n)=>{let a=e?eE:"button",{forComponent:l,onPress:s,onClick:i,children:c,action:u,...d}=t,{type:m,...p}=u||{},{scrollTo:f,scrollBy:g}=th(l),h=(0,o.useRef)(null),v=eS(h,n);return(0,r.jsx)(a,{onClick:e=>{var t;let{forceFocus:n,runAction:a}=D({nativeEvent:e,defaultBehavior:{forceFocus:!0,runAction:!0},handler:s});if(n&&(null==(t=h.current)||t.focus({preventScroll:!0})),a){if("scroll-to"===m)return f(p);if("scroll-by"===m)return g(p)}null==i||i(e)},ref:v,...d,children:c})});tR.displayName="Sheet.Trigger";let tP={Root:tT,Trigger:tR,View:tA,Content:tO};o.forwardRef((e,t)=>{let{asChild:n,className:a,"data-silk":l,timing:s,forComponent:i,tabIndex:c,...u}=e,d=n?eE:"div",{sheetId:m}=i?(e=>(0,o.useContext)(null!=e?e:eF)||{})(i):{},p=null!=m?m:"any",f=(0,o.useCallback)(e=>{es.addAutoFocusTarget({layerId:p,element:e,timing:s})},[p,s]),g=(0,o.useCallback)(e=>{es.removeAutoFocusTarget(e)},[]),h=(0,o.useRef)(null),b=(0,o.useCallback)(e=>{e?f(e):g(h.current),h.current=e},[f,g]),k=(0,o.useRef)(!0);(0,o.useEffect)(()=>(h.current&&!k.current&&f(h.current),k.current=!1,()=>{h.current&&g(h.current)}),[f,g]);let S=eS(b,t),y=v("AutoFocusTarget",{});return(0,r.jsx)(d,{...y("root",[],{className:a,dataSilk:[l]}),...n||Number.isInteger(c)?{}:{tabIndex:-1},...u,ref:S})}).displayName="AutoFocusTarget.Root",o.forwardRef((e,t)=>{let{asChild:n,disabled:a=!1,children:l,contentGetter:s,forComponent:i,...c}=e,u=(0,o.useRef)(null),d=eS(u,t),m=(0,o.useMemo)(()=>!!l,[l]);return((0,o.useEffect)(()=>{let e,t;if(!a){let n,a=!1;if(m&&u.current?n=u.current:s&&(n=E(s))&&(a=!0),n){let l=Array.isArray(i)?i:i?[i]:[];e=es.addIsland({componentId:l,element:n}),a&&(t=new MutationObserver(()=>{E(s)||(es.removeIsland(e),t.disconnect())})).observe(n.parentElement,{childList:!0})}}return()=>{a||(es.removeIsland(e),null==t||t.disconnect())}},[t,a,m,s,i]),l)?(0,r.jsx)(eM.Root,{active:!a,asChild:n,"data-silk":"0ag",...c,ref:d,children:l}):null}).displayName="Island.Root",o.forwardRef((e,t)=>{let{asChild:n,children:a,...l}=e;return(0,r.jsx)(eM.Stabiliser,{asChild:n,...l,ref:t,children:a})}).displayName="Island.Content",o.forwardRef(({asChild:e,children:t,contentGetter:n,disabled:a=!1,selfManagedInertOutside:l=!0,...s},i)=>{let u=eC(),d=(0,o.useRef)(null),m=eS(d,i),p=e?eE:"div",f=(0,o.useMemo)(()=>!!t,[t]);return c(()=>{let e;if(!a&&u){let t,a=!1;f&&d.current?t=d.current:n&&(t=E(n))&&(a=!0),t&&(es.updateLayer({external:!0,layerId:u,viewElement:t,inertOutside:l,onPresentAutoFocus:{focus:!1},onDismissAutoFocus:{focus:!1},defaultClickOutsideAction:()=>{},defaultEscapeKeyDownAction:()=>{}}),a&&(e=new MutationObserver(()=>{E(n)||(es.removeLayer(u),e.disconnect())})).observe(t.parentElement,{childList:!0}))}return()=>{!a&&u&&(es.removeLayer(u),null==e||e.disconnect())}},[f,n,a,u,l]),(0,r.jsx)(p,{ref:m,...s,children:t})}).displayName="ExternalOverlay.Root"}}]);